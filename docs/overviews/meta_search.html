

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Meta Search &mdash; Capitularia 0.1.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/my_theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Collections" href="collections.html" />
    <link rel="prev" title="Overview of the Collation Tool" href="collation_tool.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Capitularia
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#platforms">Platforms</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../overviews.html">Overviews</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="html_generation.html">HTML Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="html_generation.html#xslt-transformations">XSLT Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="html_generation.html#user-delivery">User Delivery</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="collation_tool.html">Overview of the Collation Tool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="collation_tool.html#pre-processing-of-the-tei-files">Pre-Processing of the TEI files</a></li>
<li class="toctree-l3"><a class="reference internal" href="collation_tool.html#collation">Collation</a></li>
<li class="toctree-l3"><a class="reference internal" href="collation_tool.html#custom-version-of-collatex">Custom Version of CollateX</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Meta Search</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#metadata-extraction">Metadata Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fulltext-extraction">Fulltext Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#search">Search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="collections.html">Collections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="collections.html#algorithm">Algorithm</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../webprojekt.html">RRZK Web Projekt Capitularia</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../webprojekt/wordpress.html">Wordpress Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../webprojekt/database.html">Wordpress Database Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../webprojekt/database.html#metadata">Metadata</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../webprojekt/wordpress-custom.html">Wordpress Customizations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../webprojekt/wordpress/theme.html">Wordpress Theme</a></li>
<li class="toctree-l3"><a class="reference internal" href="../webprojekt/wordpress/plugins.html">Wordpress Plugins</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../vm.html">Capitularia VM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../vm/app_server.html">Application Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#server">server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-data_server">data_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-collatex_server">collatex_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-geo_server">geo_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-tile_server">tile_server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vm/database.html">Database Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/database.html#schema-capitularia">Schema <em>capitularia:</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/database.html#schema-gis">Schema <em>gis:</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/database.html#module-db">db.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vm/transformations.html">XSLT Transformations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/transformations.html#graph-of-all-transformations">Graph of All Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/transformations.html#graph-of-stylesheet-dependencies">Graph of Stylesheet Dependencies</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Capitularia</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../overviews.html">Overviews</a> &raquo;</li>
        
      <li>Meta Search</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/overviews/meta_search.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="meta-search">
<span id="meta-search-overview"></span><h1>Meta Search<a class="headerlink" href="#meta-search" title="Permalink to this headline">¶</a></h1>
<p>Description of the meta search widget.</p>
<div class="section" id="metadata-extraction">
<h2>Metadata Extraction<a class="headerlink" href="#metadata-extraction" title="Permalink to this headline">¶</a></h2>
<p>We extract the metadata from the manuscript files and store them in the Postgres
database on the Capitularia VM.  The process is similar to the pre-processing
done for the Collation Tool.</p>
<div class="figure align-center" id="id1">
<div  class="pic pic-format-dot">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="549px" preserveAspectRatio="none" style="width:422px;height:549px;" version="1.1" viewBox="0 0 422 549" width="422px" zoomAndPan="magnify"><defs><filter height="300%" id="f1jn1pvs20e2o9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster VM--><path d="M25,102 C25,99 27,97 30,97 C33,97 35,99 35,102 C35,99 37,97 40,97 C43,97 45,99 45,102 C45,99 47,97 50,97 C53,97 55,99 55,102 C55,99 57,97 60,97 C63,97 65,99 65,102 C65,99 67,97 70,97 C73,97 75,99 75,102 C75,99 77,97 80,97 C83,97 85,99 85,102 C85,99 87,97 90,97 C93,97 95,99 95,102 C95,99 97,97 100,97 C103,97 105,99 105,102 C105,99 107,97 110,97 C113,97 115,99 115,102 C115,99 117,97 120,97 C123,97 125,99 125,102 C125,99 127,97 130,97 C133,97 135,99 135,102 C135,99 137,97 140,97 C143,97 145,99 145,102 C145,99 147,97 150,97 C153,97 155,99 155,102 C155,99 157,97 160,97 C163,97 165,99 165,102 C165,99 167,97 170,97 C173,97 175,99 175,102 C175,99 177,97 180,97 C183,97 185,99 185,102 C185,99 187,97 190,97 C193,97 195,99 195,102 C195,99 197,97 200,97 C203,97 205,99 205,102 C205,99 207,97 210,97 C213,97 215,99 215,102 C215,99 217,97 220,97 C223,97 225,99 225,102 C225,99 227,97 230,97 C233,97 235,99 235,102 C235,99 237,97 240,97 C243,97 245,99 245,102 C245,99 247,97 250,97 C253,97 255,99 255,102 C255,99 257,97 260,97 C263,97 265,99 265,102 C265,99 267,97 270,97 C273,97 275,99 275,102 C275,99 277,97 280,97 C283,97 285,99 285,102 C285,99 287,97 290,97 C293,97 295,99 295,102 C295,99 297,97 300,97 C303,97 305,99 305,102 C305,99 307,97 310,97 C313,97 315,99 315,102 C315,99 317,97 320,97 C323,97 325,99 325,102 C325,99 327,97 330,97 C333,97 335,99 335,102 C335,99 337,97 340,97 C343,97 345,99 345,102 C345,99 347,97 350,97 C353,97 355,99 355,102 C355,99 357,97 360,97 C363,97 365,99 365,102 C365,99 367,97 370,97 C373,97 375,99 375,102 C375,99 377,97 380,97 C383,97 385,99 385,102 C385,99 387,97 390,97 C393,97 395,99 395,102 C395,99 397,97 400,97 C403,97 405,99 405,102 C408,102 410,104 410,107 C410,110 408,112 405,112 C408,112 410,114 410,117 C410,120 408,122 405,122 C408,122 410,124 410,127 C410,130 408,132 405,132 C408,132 410,134 410,137 C410,140 408,142 405,142 C408,142 410,144 410,147 C410,150 408,152 405,152 C408,152 410,154 410,157 C410,160 408,162 405,162 C408,162 410,164 410,167 C410,170 408,172 405,172 C408,172 410,174 410,177 C410,180 408,182 405,182 C408,182 410,184 410,187 C410,190 408,192 405,192 C408,192 410,194 410,197 C410,200 408,202 405,202 C408,202 410,204 410,207 C410,210 408,212 405,212 C408,212 410,214 410,217 C410,220 408,222 405,222 C408,222 410,224 410,227 C410,230 408,232 405,232 C408,232 410,234 410,237 C410,240 408,242 405,242 C408,242 410,244 410,247 C410,250 408,252 405,252 C408,252 410,254 410,257 C410,260 408,262 405,262 C408,262 410,264 410,267 C410,270 408,272 405,272 C408,272 410,274 410,277 C410,280 408,282 405,282 C408,282 410,284 410,287 C410,290 408,292 405,292 C408,292 410,294 410,297 C410,300 408,302 405,302 C408,302 410,304 410,307 C410,310 408,312 405,312 C408,312 410,314 410,317 C410,320 408,322 405,322 C408,322 410,324 410,327 C410,330 408,332 405,332 C408,332 410,334 410,337 C410,340 408,342 405,342 C408,342 410,344 410,347 C410,350 408,352 405,352 C408,352 410,354 410,357 C410,360 408,362 405,362 C408,362 410,364 410,367 C410,370 408,372 405,372 C408,372 410,374 410,377 C410,380 408,382 405,382 C408,382 410,384 410,387 C410,390 408,392 405,392 C408,392 410,394 410,397 C410,400 408,402 405,402 C408,402 410,404 410,407 C410,410 408,412 405,412 C408,412 410,414 410,417 C410,420 408,422 405,422 C408,422 410,424 410,427 C410,430 408,432 405,432 C408,432 410,434 410,437 C410,440 408,442 405,442 C408,442 410,444 410,447 C410,450 408,452 405,452 C408,452 410,454 410,457 C410,460 408,462 405,462 C408,462 410,464 410,467 C410,470 408,472 405,472 C408,472 410,474 410,477 C410,480 408,482 405,482 C408,482 410,484 410,487 C410,490 408,492 405,492 C408,492 410,494 410,497 C410,500 408,502 405,502 C408,502 410,504 410,507 C410,510 408,512 405,512 C408,512 410,514 410,517 C410,520 408,522 405,522 C408,522 410,524 410,527 C410,530 408,532 405,532 C405,535 402,537 400,537 C397,537 395,535 395,532 C395,535 392,537 390,537 C387,537 385,535 385,532 C385,535 382,537 380,537 C377,537 375,535 375,532 C375,535 372,537 370,537 C367,537 365,535 365,532 C365,535 362,537 360,537 C357,537 355,535 355,532 C355,535 352,537 350,537 C347,537 345,535 345,532 C345,535 342,537 340,537 C337,537 335,535 335,532 C335,535 332,537 330,537 C327,537 325,535 325,532 C325,535 322,537 320,537 C317,537 315,535 315,532 C315,535 312,537 310,537 C307,537 305,535 305,532 C305,535 302,537 300,537 C297,537 295,535 295,532 C295,535 292,537 290,537 C287,537 285,535 285,532 C285,535 282,537 280,537 C277,537 275,535 275,532 C275,535 272,537 270,537 C267,537 265,535 265,532 C265,535 262,537 260,537 C257,537 255,535 255,532 C255,535 252,537 250,537 C247,537 245,535 245,532 C245,535 242,537 240,537 C237,537 235,535 235,532 C235,535 232,537 230,537 C227,537 225,535 225,532 C225,535 222,537 220,537 C217,537 215,535 215,532 C215,535 212,537 210,537 C207,537 205,535 205,532 C205,535 202,537 200,537 C197,537 195,535 195,532 C195,535 192,537 190,537 C187,537 185,535 185,532 C185,535 182,537 180,537 C177,537 175,535 175,532 C175,535 172,537 170,537 C167,537 165,535 165,532 C165,535 162,537 160,537 C157,537 155,535 155,532 C155,535 152,537 150,537 C147,537 145,535 145,532 C145,535 142,537 140,537 C137,537 135,535 135,532 C135,535 132,537 130,537 C127,537 125,535 125,532 C125,535 122,537 120,537 C117,537 115,535 115,532 C115,535 112,537 110,537 C107,537 105,535 105,532 C105,535 102,537 100,537 C97,537 95,535 95,532 C95,535 92,537 90,537 C87,537 85,535 85,532 C85,535 82,537 80,537 C77,537 75,535 75,532 C75,535 72,537 70,537 C67,537 65,535 65,532 C65,535 62,537 60,537 C57,537 55,535 55,532 C55,535 52,537 50,537 C47,537 45,535 45,532 C45,535 42,537 40,537 C37,537 35,535 35,532 C35,535 32,537 30,537 C27,537 25,535 25,532 C22,532 20,530 20,527 C20,524 22,522 25,522 C22,522 20,520 20,517 C20,514 22,512 25,512 C22,512 20,510 20,507 C20,504 22,502 25,502 C22,502 20,500 20,497 C20,494 22,492 25,492 C22,492 20,490 20,487 C20,484 22,482 25,482 C22,482 20,480 20,477 C20,474 22,472 25,472 C22,472 20,470 20,467 C20,464 22,462 25,462 C22,462 20,460 20,457 C20,454 22,452 25,452 C22,452 20,450 20,447 C20,444 22,442 25,442 C22,442 20,440 20,437 C20,434 22,432 25,432 C22,432 20,430 20,427 C20,424 22,422 25,422 C22,422 20,420 20,417 C20,414 22,412 25,412 C22,412 20,410 20,407 C20,404 22,402 25,402 C22,402 20,400 20,397 C20,394 22,392 25,392 C22,392 20,390 20,387 C20,384 22,382 25,382 C22,382 20,380 20,377 C20,374 22,372 25,372 C22,372 20,370 20,367 C20,364 22,362 25,362 C22,362 20,360 20,357 C20,354 22,352 25,352 C22,352 20,350 20,347 C20,344 22,342 25,342 C22,342 20,340 20,337 C20,334 22,332 25,332 C22,332 20,330 20,327 C20,324 22,322 25,322 C22,322 20,320 20,317 C20,314 22,312 25,312 C22,312 20,310 20,307 C20,304 22,302 25,302 C22,302 20,300 20,297 C20,294 22,292 25,292 C22,292 20,290 20,287 C20,284 22,282 25,282 C22,282 20,280 20,277 C20,274 22,272 25,272 C22,272 20,270 20,267 C20,264 22,262 25,262 C22,262 20,260 20,257 C20,254 22,252 25,252 C22,252 20,250 20,247 C20,244 22,242 25,242 C22,242 20,240 20,237 C20,234 22,232 25,232 C22,232 20,230 20,227 C20,224 22,222 25,222 C22,222 20,220 20,217 C20,214 22,212 25,212 C22,212 20,210 20,207 C20,204 22,202 25,202 C22,202 20,200 20,197 C20,194 22,192 25,192 C22,192 20,190 20,187 C20,184 22,182 25,182 C22,182 20,180 20,177 C20,174 22,172 25,172 C22,172 20,170 20,167 C20,164 22,162 25,162 C22,162 20,160 20,157 C20,154 22,152 25,152 C22,152 20,150 20,147 C20,144 22,142 25,142 C22,142 20,140 20,137 C20,134 22,132 25,132 C22,132 20,130 20,127 C20,124 22,122 25,122 C22,122 20,120 20,117 C20,114 22,112 25,112 C22,112 20,110 20,107 C20,104 22,102 25,102 " fill="#FFFFFF" filter="url(#f1jn1pvs20e2o9)" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="201" y="120.9951">VM</text><!--entity saxon--><rect fill="#FEFECE" filter="url(#f1jn1pvs20e2o9)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="278" y="130"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="368" y="135"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="366" y="137"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="366" y="141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="293" y="162.9951">corpus.xsl</text><!--entity corpus--><path d="M288.5,246 C288.5,236 336,236 336,236 C336,236 383.5,236 383.5,246 L383.5,287.5938 C383.5,297.5938 336,297.5938 336,297.5938 C336,297.5938 288.5,297.5938 288.5,287.5938 L288.5,246 " fill="#FEFECE" filter="url(#f1jn1pvs20e2o9)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M288.5,246 C288.5,256 336,256 336,256 C336,256 383.5,256 383.5,246 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="298.5" y="272.9951">corpus.xml</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="300.5" y="289.292">(XML+TEI)</text><!--entity import--><rect fill="#FEFECE" filter="url(#f1jn1pvs20e2o9)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="159" y="358"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="243" y="363"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="241" y="365"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="241" y="369"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="174" y="390.9951">import.py</text><!--entity db--><path d="M165,474 C165,464 211,464 211,464 C211,464 257,464 257,474 L257,515.5938 C257,525.5938 211,525.5938 211,525.5938 C211,525.5938 165,525.5938 165,515.5938 L165,474 " fill="#FEFECE" filter="url(#f1jn1pvs20e2o9)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M165,474 C165,484 211,484 211,484 C211,484 257,484 257,474 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="178" y="500.9951">Database</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="175" y="517.292">(Postgres)</text><!--entity make--><rect fill="#FEFECE" filter="url(#f1jn1pvs20e2o9)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="147" y="130"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="223" y="135"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="221" y="137"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="221" y="141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="162" y="162.9951">Makefile</text><!--entity cron--><rect fill="#FEFECE" filter="url(#f1jn1pvs20e2o9)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="38.5" y="130"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="91.5" y="135"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="89.5" y="137"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="89.5" y="141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="53.5" y="162.9951">Cron</text><path d="M101,254.5 L101,279.6328 A0,0 0 0 0 101,279.6328 L253,279.6328 A0,0 0 0 0 253,279.6328 L253,272.5 L288.39,267 L253,264.5 L253,264.5 L243,254.5 L101,254.5 A0,0 0 0 0 101,254.5 " fill="#FBFB77" filter="url(#f1jn1pvs20e2o9)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M243,254.5 L243,264.5 L253,264.5 L243,254.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="107" y="271.5669">AFS:publ/cache/lists/</text><!--entity tei--><path d="M269.5,18 C269.5,8 333,8 333,8 C333,8 396.5,8 396.5,18 L396.5,59.5938 C396.5,69.5938 333,69.5938 333,69.5938 C333,69.5938 269.5,69.5938 269.5,59.5938 L269.5,18 " fill="#FEFECE" filter="url(#f1jn1pvs20e2o9)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M269.5,18 C269.5,28 333,28 333,28 C333,28 396.5,28 396.5,18 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="279.5" y="44.9951">Manuscript files</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="297.5" y="61.292">(XML+TEI)</text><path d="M88,26.5 L88,51.6328 A0,0 0 0 0 88,51.6328 L234,51.6328 A0,0 0 0 0 234,51.6328 L234,44.5 L269.34,39 L234,36.5 L234,36.5 L224,26.5 L88,26.5 A0,0 0 0 0 88,26.5 " fill="#FBFB77" filter="url(#f1jn1pvs20e2o9)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M224,26.5 L224,36.5 L234,36.5 L224,26.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="94" y="43.5669">AFS:publ/mss/*.xml</text><!--link tei to saxon--><path d="M333,70.01 C333,86.9 333,107.83 333,124.32 " fill="none" id="tei-saxon" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="333,129.72,337,120.72,333,124.72,329,120.72,333,129.72" style="stroke: #A80036; stroke-width: 1.0;"/><!--link saxon to corpus--><path d="M333.59,176.13 C334.01,191.61 334.57,212.63 335.05,230.44 " fill="none" id="saxon-corpus" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="335.19,235.86,338.9573,226.7602,335.0615,230.8617,330.96,226.9658,335.19,235.86" style="stroke: #A80036; stroke-width: 1.0;"/><!--link corpus to import--><path d="M302.5,298.01 C283,315.48 258.67,337.29 240,354.02 " fill="none" id="corpus-import" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="235.86,357.72,245.2377,354.7103,239.5899,354.3902,239.9101,348.7424,235.86,357.72" style="stroke: #A80036; stroke-width: 1.0;"/><!--link import to db--><path d="M211,404.13 C211,419.61 211,440.63 211,458.44 " fill="none" id="import-db" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="211,463.86,215,454.86,211,458.86,207,454.86,211,463.86" style="stroke: #A80036; stroke-width: 1.0;"/><!--link cron to make--><path d="M111.56,153 C121.55,153 131.55,153 141.54,153 " fill="none" id="cron-make" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="146.76,153,137.76,149,141.76,153,137.76,157,146.76,153" style="stroke: #A80036; stroke-width: 1.0;"/><!--link make to saxon--><path d="M243.25,153 C253.1,153 262.95,153 272.8,153 " fill="none" id="make-saxon" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="277.96,153,268.96,149,272.96,153,268.96,157,277.96,153" style="stroke: #A80036; stroke-width: 1.0;"/><!--link make to import--><path d="M146.87,175.83 C123,189.44 96.46,209.46 83,236 C70.53,260.58 69.78,273.82 83,298 C98.26,325.91 127.53,345.71 154.23,358.86 " fill="none" id="make-import" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="158.83,361.07,152.4433,353.5726,154.3213,358.9087,148.9852,360.7866,158.83,361.07" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
skinparam backgroundColor transparent
skinparam DefaultTextAlignment center
skinparam componentStyle uml2

database  "Manuscript files\n(XML+TEI)" as tei
note left of tei: AFS:publ/mss/*.xml

cloud "VM" {
  component "corpus.xsl"             as saxon
  database  "corpus.xml\n(XML+TEI)"  as corpus
  component "import.py"              as import
  database  "Database\n(Postgres)"   as db

  component "Makefile"               as make
  component "Cron"                   as cron

  note left of corpus: AFS:publ/cache/lists/
}

tei      - -> saxon
saxon    - -> corpus
corpus   - -> import
import   - -> db

cron .> make
make .> saxon
make .> import
@enduml

PlantUML version 1.2018.13(Mon Nov 26 18:11:51 CET 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+10-post-Debian-1
Operating System: Linux
OS Version: 5.3.0-3-amd64
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg></div>
<p class="caption"><span class="caption-text">Data flow during metadata extraction</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>The Makefile is run by cron on the Capitularia VM at regular intervals.</p>
<p>The manuscript files are in the AFS.  The AFS is mounted onto the VM.</p>
<p>The Makefile knows all the dependencies between the files and runs the
appropriate tools to keep the database up-to-date with the manuscript files.</p>
<p>The internediate corpus.xml file contains all (useful) metadata from all
manuscript file but no text.  The corpus.xml file can be found in the
cache/lists directory.</p>
<p>The import.py script scans the corpus.xml file and imports the all metadata it
finds into the database.</p>
</div>
<div class="section" id="fulltext-extraction">
<h2>Fulltext Extraction<a class="headerlink" href="#fulltext-extraction" title="Permalink to this headline">¶</a></h2>
<p>The TEI files are already pre-processed as described under Collation Tool and
the plain text of every chapter is stored in the database.</p>
</div>
<div class="section" id="search">
<h2>Search<a class="headerlink" href="#search" title="Permalink to this headline">¶</a></h2>
<p>To get good full text search results in the absence of orthography, all full
text search is done by similarity.  The plain text of the chapters is split into
trigrams and the trigrams are indexed.</p>
<p>The <a class="reference internal" href="../webprojekt/wordpress/plugins/meta-search.html#meta-search"><span class="std std-ref">Meta Search</span></a> Wordpress plugin sends the search query to the application
server, which does the actual search.  The app server finds the chapters and the
ids of the manuscripts but it doesn’t know which Wordpress pages contain the
text of those manuscripts.  The plugin finds the pages in the Wordpress database
using the manuscript ids and sends the search results page to the user.</p>
<div class="figure align-center" id="id2">
<div  class="pic pic-format-dot">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="463px" preserveAspectRatio="none" style="width:182px;height:463px;" version="1.1" viewBox="0 0 182 463" width="182px" zoomAndPan="magnify"><defs><filter height="300%" id="feivoytiqtuex" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster VM--><path d="M25,226 C25,223 27,221 30,221 C33,221 35,223 35,226 C35,223 37,221 40,221 C43,221 45,223 45,226 C45,223 47,221 50,221 C53,221 55,223 55,226 C55,223 57,221 60,221 C63,221 65,223 65,226 C65,223 67,221 70,221 C73,221 75,223 75,226 C75,223 77,221 80,221 C83,221 85,223 85,226 C85,223 87,221 90,221 C93,221 95,223 95,226 C95,223 97,221 100,221 C103,221 105,223 105,226 C105,223 107,221 110,221 C113,221 115,223 115,226 C115,223 117,221 120,221 C123,221 125,223 125,226 C125,223 127,221 130,221 C133,221 135,223 135,226 C135,223 137,221 140,221 C143,221 145,223 145,226 C145,223 147,221 150,221 C153,221 155,223 155,226 C155,223 157,221 160,221 C163,221 165,223 165,226 C168,226 170,228 170,231 C170,234 168,236 165,236 C168,236 170,238 170,241 C170,244 168,246 165,246 C168,246 170,248 170,251 C170,254 168,256 165,256 C168,256 170,258 170,261 C170,264 168,266 165,266 C168,266 170,268 170,271 C170,274 168,276 165,276 C168,276 170,278 170,281 C170,284 168,286 165,286 C168,286 170,288 170,291 C170,294 168,296 165,296 C168,296 170,298 170,301 C170,304 168,306 165,306 C168,306 170,308 170,311 C170,314 168,316 165,316 C168,316 170,318 170,321 C170,324 168,326 165,326 C168,326 170,328 170,331 C170,334 168,336 165,336 C168,336 170,338 170,341 C170,344 168,346 165,346 C168,346 170,348 170,351 C170,354 168,356 165,356 C168,356 170,358 170,361 C170,364 168,366 165,366 C168,366 170,368 170,371 C170,374 168,376 165,376 C168,376 170,378 170,381 C170,384 168,386 165,386 C168,386 170,388 170,391 C170,394 168,396 165,396 C168,396 170,398 170,401 C170,404 168,406 165,406 C168,406 170,408 170,411 C170,414 168,416 165,416 C168,416 170,418 170,421 C170,424 168,426 165,426 C168,426 170,428 170,431 C170,434 168,436 165,436 C168,436 170,438 170,441 C170,444 168,446 165,446 C165,449 162,451 160,451 C157,451 155,449 155,446 C155,449 152,451 150,451 C147,451 145,449 145,446 C145,449 142,451 140,451 C137,451 135,449 135,446 C135,449 132,451 130,451 C127,451 125,449 125,446 C125,449 122,451 120,451 C117,451 115,449 115,446 C115,449 112,451 110,451 C107,451 105,449 105,446 C105,449 102,451 100,451 C97,451 95,449 95,446 C95,449 92,451 90,451 C87,451 85,449 85,446 C85,449 82,451 80,451 C77,451 75,449 75,446 C75,449 72,451 70,451 C67,451 65,449 65,446 C65,449 62,451 60,451 C57,451 55,449 55,446 C55,449 52,451 50,451 C47,451 45,449 45,446 C45,449 42,451 40,451 C37,451 35,449 35,446 C35,449 32,451 30,451 C27,451 25,449 25,446 C22,446 20,444 20,441 C20,438 22,436 25,436 C22,436 20,434 20,431 C20,428 22,426 25,426 C22,426 20,424 20,421 C20,418 22,416 25,416 C22,416 20,414 20,411 C20,408 22,406 25,406 C22,406 20,404 20,401 C20,398 22,396 25,396 C22,396 20,394 20,391 C20,388 22,386 25,386 C22,386 20,384 20,381 C20,378 22,376 25,376 C22,376 20,374 20,371 C20,368 22,366 25,366 C22,366 20,364 20,361 C20,358 22,356 25,356 C22,356 20,354 20,351 C20,348 22,346 25,346 C22,346 20,344 20,341 C20,338 22,336 25,336 C22,336 20,334 20,331 C20,328 22,326 25,326 C22,326 20,324 20,321 C20,318 22,316 25,316 C22,316 20,314 20,311 C20,308 22,306 25,306 C22,306 20,304 20,301 C20,298 22,296 25,296 C22,296 20,294 20,291 C20,288 22,286 25,286 C22,286 20,284 20,281 C20,278 22,276 25,276 C22,276 20,274 20,271 C20,268 22,266 25,266 C22,266 20,264 20,261 C20,258 22,256 25,256 C22,256 20,254 20,251 C20,248 22,246 25,246 C22,246 20,244 20,241 C20,238 22,236 25,236 C22,236 20,234 20,231 C20,228 22,226 25,226 " fill="#FFFFFF" filter="url(#feivoytiqtuex)" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="81" y="244.9951">VM</text><!--entity db--><path d="M47,387 C47,377 93,377 93,377 C93,377 139,377 139,387 L139,428.5938 C139,438.5938 93,438.5938 93,438.5938 C93,438.5938 47,438.5938 47,428.5938 L47,387 " fill="#FEFECE" filter="url(#feivoytiqtuex)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M47,387 C47,397 93,397 93,397 C93,397 139,397 139,387 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="60" y="413.9951">Database</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="57" y="430.292">(Postgres)</text><!--entity api--><rect fill="#FEFECE" filter="url(#feivoytiqtuex)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="38.5" y="254"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="127.5" y="259"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="125.5" y="261"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="125.5" y="265"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="53.5" y="286.9951">API Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="59" y="303.292">(Python)</text><!--entity plugin--><rect fill="#FEFECE" filter="url(#feivoytiqtuex)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="30.5" y="131"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="135.5" y="136"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="133.5" y="138"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="133.5" y="142"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="67" y="163.9951">Plugin</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="45.5" y="180.292">(Wordpress)</text><!--entity client--><rect fill="#FEFECE" filter="url(#feivoytiqtuex)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="36" y="8"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="130" y="13"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="128" y="15"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="128" y="19"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="56.5" y="40.9951">Frontend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="51" y="57.292">(Javascript)</text><!--link client to plugin--><path d="M81.76,71.03 C79.94,87.66 79.77,108.32 81.25,125.7 " fill="none" id="client-plugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="81.76,130.98,84.8685,121.6346,81.2752,126.0036,76.9062,122.4103,81.76,130.98" style="stroke: #A80036; stroke-width: 1.0;"/><!--link client to plugin--><path d="M105.45,76.31 C107.01,93.69 106.83,114.35 104.9,130.98 " fill="none" id="client-plugin" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="104.9,71.03,101.8446,80.3929,105.413,76.0036,109.8024,79.5721,104.9,71.03" style="stroke: #A80036; stroke-width: 1.0;"/><!--link plugin to api--><path d="M81.76,194.03 C79.94,210.66 79.77,231.32 81.25,248.7 " fill="none" id="plugin-api" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="81.76,253.98,84.8685,244.6346,81.2752,249.0036,76.9062,245.4103,81.76,253.98" style="stroke: #A80036; stroke-width: 1.0;"/><!--link plugin to api--><path d="M105.45,199.31 C107.01,216.69 106.83,237.35 104.9,253.98 " fill="none" id="plugin-api" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="104.9,194.03,101.8446,203.3929,105.413,199.0036,109.8024,202.5721,104.9,194.03" style="stroke: #A80036; stroke-width: 1.0;"/><!--link api to db--><path d="M81.72,317.22 C79.93,333.78 79.77,354.28 81.26,371.52 " fill="none" id="api-db" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="81.77,376.75,84.8785,367.4046,81.2852,371.7736,76.9162,368.1803,81.77,376.75" style="stroke: #A80036; stroke-width: 1.0;"/><!--link api to db--><path d="M105.47,322.48 C107.02,339.77 106.82,360.27 104.89,376.75 " fill="none" id="api-db" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="104.94,317.22,101.8607,326.5751,105.4403,322.1949,109.8206,325.7745,104.94,317.22" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
skinparam backgroundColor transparent
skinparam DefaultTextAlignment center
skinparam componentStyle uml2

cloud "VM" {
  database  "Database\n(Postgres)"   as db
  component "API Server\n(Python)"   as api
}
component "Plugin\n(Wordpress)"    as plugin
component "Frontend\n(Javascript)" as client

client - -> plugin
plugin - -> api
api    - -> db

client <- - plugin
plugin <- - api
api    <- - db
@enduml

PlantUML version 1.2018.13(Mon Nov 26 18:11:51 CET 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+10-post-Debian-1
Operating System: Linux
OS Version: 5.3.0-3-amd64
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg></div>
<p class="caption"><span class="caption-text">Data flow meta search</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="collections.html" class="btn btn-neutral float-right" title="Collections" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="collation_tool.html" class="btn btn-neutral float-left" title="Overview of the Collation Tool" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-20 CCeH - Licensed under the GNU GPL v3 or later

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>