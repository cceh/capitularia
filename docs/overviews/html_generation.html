

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>HTML Generation &mdash; Capitularia 0.1.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/my_theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Overview of the Collation Tool" href="collation_tool.html" />
    <link rel="prev" title="Overviews" href="../overviews.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Capitularia
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#platforms">Platforms</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../overviews.html">Overviews</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">HTML Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#xslt-transformations">XSLT Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-delivery">User Delivery</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="collation_tool.html">Overview of the Collation Tool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="collation_tool.html#pre-processing-of-the-tei-files">Pre-Processing of the TEI files</a></li>
<li class="toctree-l3"><a class="reference internal" href="collation_tool.html#collation">Collation</a></li>
<li class="toctree-l3"><a class="reference internal" href="collation_tool.html#custom-version-of-collatex">Custom Version of CollateX</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="meta_search.html">Meta Search</a><ul>
<li class="toctree-l3"><a class="reference internal" href="meta_search.html#metadata-extraction">Metadata Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="meta_search.html#fulltext-extraction">Fulltext Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="meta_search.html#search">Search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="collections.html">Collections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="collections.html#algorithm">Algorithm</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../webprojekt.html">RRZK Web Projekt Capitularia</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../webprojekt/wordpress.html">Wordpress Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../webprojekt/database.html">Wordpress Database Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../webprojekt/database.html#metadata">Metadata</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../webprojekt/wordpress-custom.html">Wordpress Customizations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../webprojekt/wordpress/theme.html">Wordpress Theme</a></li>
<li class="toctree-l3"><a class="reference internal" href="../webprojekt/wordpress/plugins.html">Wordpress Plugins</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../vm.html">Capitularia VM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../vm/app_server.html">Application Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#server">server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-data_server">data_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-collatex_server">collatex_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-geo_server">geo_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-tile_server">tile_server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vm/database.html">Database Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/database.html#schema-capitularia">Schema <em>capitularia:</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/database.html#schema-gis">Schema <em>gis:</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/database.html#module-db">db.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vm/transformations.html">XSLT Transformations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/transformations.html#graph-of-all-transformations">Graph of All Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/transformations.html#graph-of-stylesheet-dependencies">Graph of Stylesheet Dependencies</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Capitularia</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../overviews.html">Overviews</a> &raquo;</li>
        
      <li>HTML Generation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/overviews/html_generation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="html-generation">
<span id="id1"></span><h1>HTML Generation<a class="headerlink" href="#html-generation" title="Permalink to this headline">¶</a></h1>
<p>All TEI manuscript files are converted to one (or more) HTML files.  The HTML
files are then included into Wordpress pages with the <a class="reference internal" href="../webprojekt/wordpress/plugins/file-includer.html#file-includer"><span class="std std-ref">File Includer
plugin</span></a>.</p>
<div class="section" id="xslt-transformations">
<h2>XSLT Transformations<a class="headerlink" href="#xslt-transformations" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id2">
<div  class="pic pic-format-dot">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="342px" preserveAspectRatio="none" style="width:492px;height:342px;" version="1.1" viewBox="0 0 492 342" width="492px" zoomAndPan="magnify"><defs><filter height="300%" id="f1owd7o0oe8irj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster vm--><path d="M25,102 C25,99 27,97 30,97 C33,97 35,99 35,102 C35,99 37,97 40,97 C43,97 45,99 45,102 C45,99 47,97 50,97 C53,97 55,99 55,102 C55,99 57,97 60,97 C63,97 65,99 65,102 C65,99 67,97 70,97 C73,97 75,99 75,102 C75,99 77,97 80,97 C83,97 85,99 85,102 C85,99 87,97 90,97 C93,97 95,99 95,102 C95,99 97,97 100,97 C103,97 105,99 105,102 C105,99 107,97 110,97 C113,97 115,99 115,102 C115,99 117,97 120,97 C123,97 125,99 125,102 C125,99 127,97 130,97 C133,97 135,99 135,102 C135,99 137,97 140,97 C143,97 145,99 145,102 C145,99 147,97 150,97 C153,97 155,99 155,102 C155,99 157,97 160,97 C163,97 165,99 165,102 C165,99 167,97 170,97 C173,97 175,99 175,102 C175,99 177,97 180,97 C183,97 185,99 185,102 C185,99 187,97 190,97 C193,97 195,99 195,102 C195,99 197,97 200,97 C203,97 205,99 205,102 C205,99 207,97 210,97 C213,97 215,99 215,102 C215,99 217,97 220,97 C223,97 225,99 225,102 C225,99 227,97 230,97 C233,97 235,99 235,102 C235,99 237,97 240,97 C243,97 245,99 245,102 C245,99 247,97 250,97 C253,97 255,99 255,102 C255,99 257,97 260,97 C263,97 265,99 265,102 C265,99 267,97 270,97 C273,97 275,99 275,102 C275,99 277,97 280,97 C283,97 285,99 285,102 C285,99 287,97 290,97 C293,97 295,99 295,102 C295,99 297,97 300,97 C303,97 305,99 305,102 C305,99 307,97 310,97 C313,97 315,99 315,102 C315,99 317,97 320,97 C323,97 325,99 325,102 C325,99 327,97 330,97 C333,97 335,99 335,102 C335,99 337,97 340,97 C343,97 345,99 345,102 C345,99 347,97 350,97 C353,97 355,99 355,102 C355,99 357,97 360,97 C363,97 365,99 365,102 C365,99 367,97 370,97 C373,97 375,99 375,102 C375,99 377,97 380,97 C383,97 385,99 385,102 C385,99 387,97 390,97 C393,97 395,99 395,102 C395,99 397,97 400,97 C403,97 405,99 405,102 C405,99 407,97 410,97 C413,97 415,99 415,102 C415,99 417,97 420,97 C423,97 425,99 425,102 C425,99 427,97 430,97 C433,97 435,99 435,102 C435,99 437,97 440,97 C443,97 445,99 445,102 C445,99 447,97 450,97 C453,97 455,99 455,102 C455,99 457,97 460,97 C463,97 465,99 465,102 C465,99 467,97 470,97 C473,97 475,99 475,102 C478,102 480,104 480,107 C480,110 478,112 475,112 C478,112 480,114 480,117 C480,120 478,122 475,122 C478,122 480,124 480,127 C480,130 478,132 475,132 C478,132 480,134 480,137 C480,140 478,142 475,142 C478,142 480,144 480,147 C480,150 478,152 475,152 C478,152 480,154 480,157 C480,160 478,162 475,162 C478,162 480,164 480,167 C480,170 478,172 475,172 C478,172 480,174 480,177 C480,180 478,182 475,182 C478,182 480,184 480,187 C480,190 478,192 475,192 C478,192 480,194 480,197 C480,200 478,202 475,202 C478,202 480,204 480,207 C480,210 478,212 475,212 C478,212 480,214 480,217 C480,220 478,222 475,222 C475,225 472,227 470,227 C467,227 465,225 465,222 C465,225 462,227 460,227 C457,227 455,225 455,222 C455,225 452,227 450,227 C447,227 445,225 445,222 C445,225 442,227 440,227 C437,227 435,225 435,222 C435,225 432,227 430,227 C427,227 425,225 425,222 C425,225 422,227 420,227 C417,227 415,225 415,222 C415,225 412,227 410,227 C407,227 405,225 405,222 C405,225 402,227 400,227 C397,227 395,225 395,222 C395,225 392,227 390,227 C387,227 385,225 385,222 C385,225 382,227 380,227 C377,227 375,225 375,222 C375,225 372,227 370,227 C367,227 365,225 365,222 C365,225 362,227 360,227 C357,227 355,225 355,222 C355,225 352,227 350,227 C347,227 345,225 345,222 C345,225 342,227 340,227 C337,227 335,225 335,222 C335,225 332,227 330,227 C327,227 325,225 325,222 C325,225 322,227 320,227 C317,227 315,225 315,222 C315,225 312,227 310,227 C307,227 305,225 305,222 C305,225 302,227 300,227 C297,227 295,225 295,222 C295,225 292,227 290,227 C287,227 285,225 285,222 C285,225 282,227 280,227 C277,227 275,225 275,222 C275,225 272,227 270,227 C267,227 265,225 265,222 C265,225 262,227 260,227 C257,227 255,225 255,222 C255,225 252,227 250,227 C247,227 245,225 245,222 C245,225 242,227 240,227 C237,227 235,225 235,222 C235,225 232,227 230,227 C227,227 225,225 225,222 C225,225 222,227 220,227 C217,227 215,225 215,222 C215,225 212,227 210,227 C207,227 205,225 205,222 C205,225 202,227 200,227 C197,227 195,225 195,222 C195,225 192,227 190,227 C187,227 185,225 185,222 C185,225 182,227 180,227 C177,227 175,225 175,222 C175,225 172,227 170,227 C167,227 165,225 165,222 C165,225 162,227 160,227 C157,227 155,225 155,222 C155,225 152,227 150,227 C147,227 145,225 145,222 C145,225 142,227 140,227 C137,227 135,225 135,222 C135,225 132,227 130,227 C127,227 125,225 125,222 C125,225 122,227 120,227 C117,227 115,225 115,222 C115,225 112,227 110,227 C107,227 105,225 105,222 C105,225 102,227 100,227 C97,227 95,225 95,222 C95,225 92,227 90,227 C87,227 85,225 85,222 C85,225 82,227 80,227 C77,227 75,225 75,222 C75,225 72,227 70,227 C67,227 65,225 65,222 C65,225 62,227 60,227 C57,227 55,225 55,222 C55,225 52,227 50,227 C47,227 45,225 45,222 C45,225 42,227 40,227 C37,227 35,225 35,222 C35,225 32,227 30,227 C27,227 25,225 25,222 C22,222 20,220 20,217 C20,214 22,212 25,212 C22,212 20,210 20,207 C20,204 22,202 25,202 C22,202 20,200 20,197 C20,194 22,192 25,192 C22,192 20,190 20,187 C20,184 22,182 25,182 C22,182 20,180 20,177 C20,174 22,172 25,172 C22,172 20,170 20,167 C20,164 22,162 25,162 C22,162 20,160 20,157 C20,154 22,152 25,152 C22,152 20,150 20,147 C20,144 22,142 25,142 C22,142 20,140 20,137 C20,134 22,132 25,132 C22,132 20,130 20,127 C20,124 22,122 25,122 C22,122 20,120 20,117 C20,114 22,112 25,112 C22,112 20,110 20,107 C20,104 22,102 25,102 " fill="#FFFFFF" filter="url(#f1owd7o0oe8irj)" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="193" y="120.9951">Capitularia VM</text><!--entity cron--><rect fill="#FEFECE" filter="url(#f1owd7o0oe8irj)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="38.5" y="146.5"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="91.5" y="151.5"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="89.5" y="153.5"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="89.5" y="157.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="53.5" y="179.4951">Cron</text><!--entity make--><rect fill="#FEFECE" filter="url(#f1owd7o0oe8irj)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="147" y="146.5"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="223" y="151.5"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="221" y="153.5"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="221" y="157.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="162" y="179.4951">Makefile</text><!--entity saxon--><rect fill="#FEFECE" filter="url(#f1owd7o0oe8irj)" height="78.8906" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="278" y="130"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="440" y="135"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="438" y="137"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="438" y="141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="311.5" y="162.9951">mss-header.xsl</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="142" x="293" y="179.292">mss-transcription.xsl</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="315.5" y="195.5889">mss-footer.xsl</text><!--entity tei--><path d="M305.5,18 C305.5,8 369,8 369,8 C369,8 432.5,8 432.5,18 L432.5,59.5938 C432.5,69.5938 369,69.5938 369,69.5938 C369,69.5938 305.5,69.5938 305.5,59.5938 L305.5,18 " fill="#FEFECE" filter="url(#f1owd7o0oe8irj)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M305.5,18 C305.5,28 369,28 369,28 C369,28 432.5,28 432.5,18 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="315.5" y="44.9951">Manuscript files</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="333.5" y="61.292">(XML+TEI)</text><path d="M162,26.5 L162,51.6328 A0,0 0 0 0 162,51.6328 L270,51.6328 A0,0 0 0 0 270,51.6328 L270,44.5 L305.25,39 L270,36.5 L270,36.5 L260,26.5 L162,26.5 A0,0 0 0 0 162,26.5 " fill="#FBFB77" filter="url(#f1owd7o0oe8irj)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M260,26.5 L260,36.5 L270,36.5 L260,26.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="168" y="43.5669">AFS:publ/mss</text><!--entity html--><path d="M305.5,279 C305.5,269 369,269 369,269 C369,269 432.5,269 432.5,279 L432.5,320.5938 C432.5,330.5938 369,330.5938 369,330.5938 C369,330.5938 305.5,330.5938 305.5,320.5938 L305.5,279 " fill="#FEFECE" filter="url(#f1owd7o0oe8irj)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M305.5,279 C305.5,289 369,289 369,289 C369,289 432.5,289 432.5,279 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="315.5" y="305.9951">Manuscript files</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="345" y="322.292">(HTML)</text><path d="M120,287.5 L120,312.6328 A0,0 0 0 0 120,312.6328 L270,312.6328 A0,0 0 0 0 270,312.6328 L270,305.5 L305.26,300 L270,297.5 L270,297.5 L260,287.5 L120,287.5 A0,0 0 0 0 120,287.5 " fill="#FBFB77" filter="url(#f1owd7o0oe8irj)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M260,287.5 L260,297.5 L270,297.5 L260,287.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="126" y="304.5669">AFS:publ/cache/mss</text><!--link tei to saxon--><path d="M369,70.13 C369,86.4 369,106.79 369,124.78 " fill="none" id="tei-saxon" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="369,129.78,373,120.78,369,124.78,365,120.78,369,129.78" style="stroke: #A80036; stroke-width: 1.0;"/><!--link saxon to html--><path d="M369,209.05 C369,226.34 369,246.59 369,263.5 " fill="none" id="saxon-html" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="369,268.64,373,259.64,369,263.64,365,259.64,369,268.64" style="stroke: #A80036; stroke-width: 1.0;"/><!--link cron to make--><path d="M111.56,169.5 C121.55,169.5 131.55,169.5 141.54,169.5 " fill="none" id="cron-make" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="146.76,169.5,137.76,165.5,141.76,169.5,137.76,173.5,146.76,169.5" style="stroke: #A80036; stroke-width: 1.0;"/><!--link make to saxon--><path d="M243.26,169.5 C253.02,169.5 262.78,169.5 272.54,169.5 " fill="none" id="make-saxon" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="277.64,169.5,268.64,165.5,272.64,169.5,268.64,173.5,277.64,169.5" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
skinparam backgroundColor transparent
skinparam DefaultTextAlignment center
skinparam componentStyle uml2

database  "Manuscript files\n(XML+TEI)" as tei
note left of tei: AFS:publ/mss

cloud "Capitularia VM" as vm {
  component "Cron"                       as cron
  component "Makefile"                   as make
  component saxon [mss-header.xsl
  mss-transcription.xsl
  mss-footer.xsl]
}

database  "Manuscript files\n(HTML)"   as html
note left of html: AFS:publ/cache/mss

tei      - -> saxon
saxon    - -> html

cron .> make
make .> saxon
@enduml

PlantUML version 1.2018.13(Mon Nov 26 18:11:51 CET 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+10-post-Debian-2
Operating System: Linux
OS Version: 5.4.0-4-amd64
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg></div>
<p class="caption"><span class="caption-text">Data flow during HTML generation</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>The Makefile is run by cron on the Capitularia VM at regular intervals.</p>
<p>The manuscript and HTML files reside in the AFS.  The AFS is mounted onto
the VM.</p>
<p>The Makefile knows all the dependencies between the files and runs the
appropriate tools to keep the HTML files up-to-date with the manuscript files.</p>
<p>The HTML files are stored in the cache directory.</p>
<p>See also: the <a class="reference internal" href="../vm/transformations.html#transformations"><span class="std std-ref">list of all transformations</span></a>
complete with input and output files and urls.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The XSLT stylesheets are written in XSLT 1 for historical reasons.  That is
why we still use xsltproc.  We plan to rewrite them in XSLT 3 and use Saxon
as soon as possible. (Nov. 2019)</p>
</div>
</div>
<div class="section" id="user-delivery">
<h2>User Delivery<a class="headerlink" href="#user-delivery" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id3">
<div  class="pic pic-format-dot">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="483px" preserveAspectRatio="none" style="width:394px;height:483px;" version="1.1" viewBox="0 0 394 483" width="394px" zoomAndPan="magnify"><defs><filter height="300%" id="fns6ijmwinygo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster RRZK WebProjekt--><path d="M37,93 C37,90 39,88 42,88 C45,88 47,90 47,93 C47,90 49,88 52,88 C55,88 57,90 57,93 C57,90 59,88 62,88 C65,88 67,90 67,93 C67,90 69,88 72,88 C75,88 77,90 77,93 C77,90 79,88 82,88 C85,88 87,90 87,93 C87,90 89,88 92,88 C95,88 97,90 97,93 C97,90 99,88 102,88 C105,88 107,90 107,93 C107,90 109,88 112,88 C115,88 117,90 117,93 C117,90 119,88 122,88 C125,88 127,90 127,93 C127,90 129,88 132,88 C135,88 137,90 137,93 C137,90 139,88 142,88 C145,88 147,90 147,93 C147,90 149,88 152,88 C155,88 157,90 157,93 C157,90 159,88 162,88 C165,88 167,90 167,93 C167,90 169,88 172,88 C175,88 177,90 177,93 C177,90 179,88 182,88 C185,88 187,90 187,93 C187,90 189,88 192,88 C195,88 197,90 197,93 C197,90 199,88 202,88 C205,88 207,90 207,93 C207,90 209,88 212,88 C215,88 217,90 217,93 C217,90 219,88 222,88 C225,88 227,90 227,93 C227,90 229,88 232,88 C235,88 237,90 237,93 C237,90 239,88 242,88 C245,88 247,90 247,93 C247,90 249,88 252,88 C255,88 257,90 257,93 C257,90 259,88 262,88 C265,88 267,90 267,93 C267,90 269,88 272,88 C275,88 277,90 277,93 C277,90 279,88 282,88 C285,88 287,90 287,93 C287,90 289,88 292,88 C295,88 297,90 297,93 C297,90 299,88 302,88 C305,88 307,90 307,93 C307,90 309,88 312,88 C315,88 317,90 317,93 C317,90 319,88 322,88 C325,88 327,90 327,93 C327,90 329,88 332,88 C335,88 337,90 337,93 C337,90 339,88 342,88 C345,88 347,90 347,93 C347,90 349,88 352,88 C355,88 357,90 357,93 C357,90 359,88 362,88 C365,88 367,90 367,93 C367,90 369,88 372,88 C375,88 377,90 377,93 C380,93 382,95 382,98 C382,101 380,103 377,103 C380,103 382,105 382,108 C382,111 380,113 377,113 C380,113 382,115 382,118 C382,121 380,123 377,123 C380,123 382,125 382,128 C382,131 380,133 377,133 C380,133 382,135 382,138 C382,141 380,143 377,143 C380,143 382,145 382,148 C382,151 380,153 377,153 C380,153 382,155 382,158 C382,161 380,163 377,163 C380,163 382,165 382,168 C382,171 380,173 377,173 C380,173 382,175 382,178 C382,181 380,183 377,183 C380,183 382,185 382,188 C382,191 380,193 377,193 C380,193 382,195 382,198 C382,201 380,203 377,203 C380,203 382,205 382,208 C382,211 380,213 377,213 C380,213 382,215 382,218 C382,221 380,223 377,223 C380,223 382,225 382,228 C382,231 380,233 377,233 C380,233 382,235 382,238 C382,241 380,243 377,243 C380,243 382,245 382,248 C382,251 380,253 377,253 C380,253 382,255 382,258 C382,261 380,263 377,263 C380,263 382,265 382,268 C382,271 380,273 377,273 C380,273 382,275 382,278 C382,281 380,283 377,283 C380,283 382,285 382,288 C382,291 380,293 377,293 C380,293 382,295 382,298 C382,301 380,303 377,303 C380,303 382,305 382,308 C382,311 380,313 377,313 C380,313 382,315 382,318 C382,321 380,323 377,323 C380,323 382,325 382,328 C382,331 380,333 377,333 C380,333 382,335 382,338 C382,341 380,343 377,343 C380,343 382,345 382,348 C382,351 380,353 377,353 C380,353 382,355 382,358 C382,361 380,363 377,363 C380,363 382,365 382,368 C382,371 380,373 377,373 C380,373 382,375 382,378 C382,381 380,383 377,383 C380,383 382,385 382,388 C382,391 380,393 377,393 C380,393 382,395 382,398 C382,401 380,403 377,403 C377,406 374,408 372,408 C369,408 367,406 367,403 C367,406 364,408 362,408 C359,408 357,406 357,403 C357,406 354,408 352,408 C349,408 347,406 347,403 C347,406 344,408 342,408 C339,408 337,406 337,403 C337,406 334,408 332,408 C329,408 327,406 327,403 C327,406 324,408 322,408 C319,408 317,406 317,403 C317,406 314,408 312,408 C309,408 307,406 307,403 C307,406 304,408 302,408 C299,408 297,406 297,403 C297,406 294,408 292,408 C289,408 287,406 287,403 C287,406 284,408 282,408 C279,408 277,406 277,403 C277,406 274,408 272,408 C269,408 267,406 267,403 C267,406 264,408 262,408 C259,408 257,406 257,403 C257,406 254,408 252,408 C249,408 247,406 247,403 C247,406 244,408 242,408 C239,408 237,406 237,403 C237,406 234,408 232,408 C229,408 227,406 227,403 C227,406 224,408 222,408 C219,408 217,406 217,403 C217,406 214,408 212,408 C209,408 207,406 207,403 C207,406 204,408 202,408 C199,408 197,406 197,403 C197,406 194,408 192,408 C189,408 187,406 187,403 C187,406 184,408 182,408 C179,408 177,406 177,403 C177,406 174,408 172,408 C169,408 167,406 167,403 C167,406 164,408 162,408 C159,408 157,406 157,403 C157,406 154,408 152,408 C149,408 147,406 147,403 C147,406 144,408 142,408 C139,408 137,406 137,403 C137,406 134,408 132,408 C129,408 127,406 127,403 C127,406 124,408 122,408 C119,408 117,406 117,403 C117,406 114,408 112,408 C109,408 107,406 107,403 C107,406 104,408 102,408 C99,408 97,406 97,403 C97,406 94,408 92,408 C89,408 87,406 87,403 C87,406 84,408 82,408 C79,408 77,406 77,403 C77,406 74,408 72,408 C69,408 67,406 67,403 C67,406 64,408 62,408 C59,408 57,406 57,403 C57,406 54,408 52,408 C49,408 47,406 47,403 C47,406 44,408 42,408 C39,408 37,406 37,403 C34,403 32,401 32,398 C32,395 34,393 37,393 C34,393 32,391 32,388 C32,385 34,383 37,383 C34,383 32,381 32,378 C32,375 34,373 37,373 C34,373 32,371 32,368 C32,365 34,363 37,363 C34,363 32,361 32,358 C32,355 34,353 37,353 C34,353 32,351 32,348 C32,345 34,343 37,343 C34,343 32,341 32,338 C32,335 34,333 37,333 C34,333 32,331 32,328 C32,325 34,323 37,323 C34,323 32,321 32,318 C32,315 34,313 37,313 C34,313 32,311 32,308 C32,305 34,303 37,303 C34,303 32,301 32,298 C32,295 34,293 37,293 C34,293 32,291 32,288 C32,285 34,283 37,283 C34,283 32,281 32,278 C32,275 34,273 37,273 C34,273 32,271 32,268 C32,265 34,263 37,263 C34,263 32,261 32,258 C32,255 34,253 37,253 C34,253 32,251 32,248 C32,245 34,243 37,243 C34,243 32,241 32,238 C32,235 34,233 37,233 C34,233 32,231 32,228 C32,225 34,223 37,223 C34,223 32,221 32,218 C32,215 34,213 37,213 C34,213 32,211 32,208 C32,205 34,203 37,203 C34,203 32,201 32,198 C32,195 34,193 37,193 C34,193 32,191 32,188 C32,185 34,183 37,183 C34,183 32,181 32,178 C32,175 34,173 37,173 C34,173 32,171 32,168 C32,165 34,163 37,163 C34,163 32,161 32,158 C32,155 34,153 37,153 C34,153 32,151 32,148 C32,145 34,143 37,143 C34,143 32,141 32,138 C32,135 34,133 37,133 C34,133 32,131 32,128 C32,125 34,123 37,123 C34,123 32,121 32,118 C32,115 34,113 37,113 C34,113 32,111 32,108 C32,105 34,103 37,103 C34,103 32,101 32,98 C32,95 34,93 37,93 " fill="#FFFFFF" filter="url(#fns6ijmwinygo)" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="137.5" y="111.9951">RRZK WebProjekt</text><!--cluster Wordpress--><rect fill="#FFFFFF" filter="url(#fns6ijmwinygo)" height="253" style="stroke: #000000; stroke-width: 1.5;" width="200" x="155" y="129"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="211.5" y="143.9951">Wordpress</text><!--entity db--><path d="M50,313.5 C50,303.5 93,303.5 93,303.5 C93,303.5 136,303.5 136,313.5 L136,355.0938 C136,365.0938 93,365.0938 93,365.0938 C93,365.0938 50,365.0938 50,355.0938 L50,313.5 " fill="#FEFECE" filter="url(#fns6ijmwinygo)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M50,313.5 C50,323.5 93,323.5 93,323.5 C93,323.5 136,323.5 136,313.5 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="60" y="340.4951">Database</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="68" y="356.792">(mysql)</text><!--entity pp--><rect fill="#FEFECE" filter="url(#fns6ijmwinygo)" height="78.8906" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="182" y="164"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="308" y="169"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="306" y="171"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="306" y="175"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="214.5" y="196.9951">Footnotes</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="197" y="213.292">Post-Processor</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="231" y="229.5889">(PHP)</text><!--entity fi--><rect fill="#FEFECE" filter="url(#fns6ijmwinygo)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="171" y="303"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="319" y="308"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="317" y="310"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="317" y="314"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="186" y="335.9951">File Includer Plugin</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="231" y="352.292">(PHP)</text><!--entity html--><path d="M191.5,18 C191.5,8 255,8 255,8 C255,8 318.5,8 318.5,18 L318.5,59.5938 C318.5,69.5938 255,69.5938 255,69.5938 C255,69.5938 191.5,69.5938 191.5,59.5938 L191.5,18 " fill="#FEFECE" filter="url(#fns6ijmwinygo)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M191.5,18 C191.5,28 255,28 255,28 C255,28 318.5,28 318.5,18 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="201.5" y="44.9951">Manuscript files</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="231" y="61.292">(HTML)</text><path d="M6,26.5 L6,51.6328 A0,0 0 0 0 6,51.6328 L156,51.6328 A0,0 0 0 0 156,51.6328 L156,44.5 L191.26,39 L156,36.5 L156,36.5 L146,26.5 L6,26.5 A0,0 0 0 0 6,26.5 " fill="#FBFB77" filter="url(#fns6ijmwinygo)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M146,26.5 L146,36.5 L156,36.5 L146,26.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="12" y="43.5669">AFS:publ/cache/mss</text><!--entity client--><rect fill="#FEFECE" filter="url(#fns6ijmwinygo)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="196" y="426"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="294" y="431"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="292" y="433"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="292" y="437"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="211" y="458.9951">User-Agent</text><!--link html to pp--><path d="M255,70.18 C255,95.07 255,130.7 255,158.72 " fill="none" id="html-pp" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="255,163.86,259,154.86,255,158.86,251,154.86,255,163.86" style="stroke: #A80036; stroke-width: 1.0;"/><!--link pp to fi--><path d="M255,243.2 C255,260.42 255,280.58 255,297.47 " fill="none" id="pp-fi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="255,302.6,259,293.6,255,297.6,251,293.6,255,302.6" style="stroke: #A80036; stroke-width: 1.0;"/><!--link fi to client--><path d="M255,366.24 C255,383.19 255,404.06 255,420.47 " fill="none" id="fi-client" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="255,425.86,259,416.86,255,420.86,251,416.86,255,425.86" style="stroke: #A80036; stroke-width: 1.0;"/><!--link db to fi--><path d="M136.03,352.64 C145.92,355.3 155.82,356.93 165.71,357.51 " fill="none" id="db-fi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="170.89,357.72,162.0576,353.3625,165.894,357.5196,161.7369,361.356,170.89,357.72" style="stroke: #A80036; stroke-width: 1.0;"/><!--link db to fi--><path d="M140.93,315.12 C150.92,312.78 160.9,311.5 170.89,311.28 " fill="none" id="db-fi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="136.03,316.36,145.7361,318.0309,140.8773,315.1339,143.7743,310.2752,136.03,316.36" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
skinparam backgroundColor transparent
skinparam DefaultTextAlignment center
skinparam componentStyle uml2

database "Manuscript files\n(HTML)" as html
note left of html: AFS:publ/cache/mss

cloud "RRZK WebProjekt" {
  database  "Database\n(mysql)" as db
  rectangle "Wordpress" {
    component "Footnotes\nPost-Processor\n(PHP)" as pp
    component "File Includer Plugin\n(PHP)" as fi
  }
}
component "User-Agent" as client

html  - -> pp
pp    - -> fi
fi    - -> client

db    -> fi
db    <- fi
@enduml

PlantUML version 1.2018.13(Mon Nov 26 18:11:51 CET 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+10-post-Debian-2
Operating System: Linux
OS Version: 5.4.0-4-amd64
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg></div>
<p class="caption"><span class="caption-text">Data flow during user access</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>When a user accesses a manuscript page, Wordpress finds a shortcode for the
<a class="reference internal" href="../webprojekt/wordpress/plugins/file-includer.html#file-includer"><span class="std std-ref">File Includer plugin</span></a> in it.  Control is passed to the File
Includer plugin which checks the date of the filum includendum.  If the file is
newer than the data stored in the database it refreshes the database.  Then it
inserts the file’s content into the page, which is finally sent to the user.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Footnotes Post-Processor is still written in PHP.  We plan to rewrite it
in Python along with the XSL stylesheets and move it to the VM. (Nov. 2019)</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="collation_tool.html" class="btn btn-neutral float-right" title="Overview of the Collation Tool" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../overviews.html" class="btn btn-neutral float-left" title="Overviews" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-20 CCeH - Licensed under the GNU GPL v3 or later

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>