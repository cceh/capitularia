<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HTML Generation &mdash; Capitularia 0.2.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/my_theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Overview of the Collation Tool" href="collation_tool.html" />
    <link rel="prev" title="Overviews" href="../overviews.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Capitularia
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#capitularia-vm">Capitularia VM</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../overviews.html">Overviews</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">HTML Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#xslt-transformations">XSLT Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-delivery">User Delivery</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="collation_tool.html">Overview of the Collation Tool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="collation_tool.html#pre-processing-of-the-tei-files">Pre-Processing of the TEI files</a></li>
<li class="toctree-l3"><a class="reference internal" href="collation_tool.html#collation">Collation</a></li>
<li class="toctree-l3"><a class="reference internal" href="collation_tool.html#custom-version-of-collatex">Custom Version of CollateX</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="meta_search.html">Meta Search</a><ul>
<li class="toctree-l3"><a class="reference internal" href="meta_search.html#metadata-extraction">Metadata Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="meta_search.html#fulltext-extraction">Fulltext Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="meta_search.html#geodata-extraction">Geodata Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="meta_search.html#search">Search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="collections.html">Collections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="collections.html#algorithm">Algorithm</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../vm.html">Capitularia VM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../vm/apache.html">Apache Web Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/apache/wordpress.html">Wordpress Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/apache/database.html">Wordpress Database Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/apache/wordpress-custom.html">Wordpress Customizations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vm/app_server.html">Application Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#server">server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-data_server">data_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-collatex_server">collatex_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-geo_server">geo_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-tile_server">tile_server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vm/database.html">Database Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/database.html#schema-capitularia">Schema <em>capitularia:</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/database.html#schema-gis">Schema <em>gis:</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/database.html#module-db">db.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vm/transformations.html">XSLT Transformations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/transformations.html#graph-of-all-transformations">Graph of All Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/transformations.html#graph-of-stylesheet-dependencies">Graph of Stylesheet Dependencies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vm/user.html">Users of the VM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/user.html#users-and-groups">Users and Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/user.html#adding-a-new-user">Adding a New User</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/user.html#security">Security</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vm/backup.html">TSM Backup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/collation_tool.html">Troubleshooting the Collation Tool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting/collation_tool.html#manuscripts-do-not-show-up">Manuscripts do not show up</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Capitularia</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../overviews.html">Overviews</a> &raquo;</li>
      <li>HTML Generation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/overviews/html_generation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="html-generation">
<span id="id1"></span><h1>HTML Generation<a class="headerlink" href="#html-generation" title="Permalink to this headline">¶</a></h1>
<p>All TEI manuscript files are converted to one (or more) HTML files.  The HTML
files are then included into Wordpress pages with the <a class="reference internal" href="../vm/apache/wordpress/plugins/file-includer.html#file-includer"><span class="std std-ref">File Includer
plugin</span></a>.</p>
<section id="xslt-transformations">
<h2>XSLT Transformations<a class="headerlink" href="#xslt-transformations" title="Permalink to this headline">¶</a></h2>
<figure class="align-center" id="id2">
<div  class="pic pic-format-text-xml pic-language-uml">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="342px" preserveAspectRatio="none"  version="1.1" viewBox="0 0 507 342" width="507px" zoomAndPan="magnify"><defs><filter height="300%" id="fka0s7m3ki2db" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[72ee43ebcd6b294b38e8464aac6a1ff3]
cluster vm--><path d="M41.5376,106.9685 C48.8657,92.5133 60.362,92.17 70.3715,104.0305 C80.3262,90.7678 90.2037,87.679 100.1955,103.9931 C110.8432,90.9398 122.9022,91.365 132.3213,105.4476 C136.6639,91.1668 148.8952,90.0646 158.2853,100.046 C169.1343,86.1428 184.8854,83.5693 193.6628,102.2923 C200.9732,88.0695 210.3952,88.2926 219.4288,100.6199 C229.7922,81.4175 244.41,84.5515 254.5518,100.8392 C260.8606,87.3558 275.5325,85.5639 284.2456,98.0949 C292.9577,87.9986 302.5844,87.148 310.0239,99.5529 C323.3165,87.3081 334.864,85.4845 343.1381,104.8159 C350.2308,91.2527 361.4588,88.7326 371.7388,101.3314 C382.3132,89.8918 393.1246,88.1425 401.4032,103.8409 C410.7635,91.2248 425.8103,92.2927 433.6478,105.7259 C446.6284,89.6802 459.2538,92.0123 468,110 C469.4909,109.6241 470.4691,110.5154 469.9864,112.051 C495.0193,126.5156 495.8258,144.1164 471.4558,160.0921 C494.0415,182.4705 487.1784,203.5812 461,217 C463.422,216.0851 464.8093,217.3292 464.1332,219.8365 C455.3247,233.0038 444.4507,232.3376 435.9186,219.5362 C428.7006,235.7035 412.5717,236.275 403.3432,221.6642 C394.0515,235.8027 383.5538,233.1921 374.4473,221.4574 C366.2014,236.4946 352.0455,235.7085 342.3897,223.0918 C333.4744,238.0147 318.4125,239.5056 310.3836,222.2111 C303.8439,236.7739 293.7834,237.4428 284.3573,224.992 C275.7004,243.9044 259.738,241.3929 249.8068,226.2861 C238.5449,241.2167 227.2761,237.4688 219.2075,222.9663 C210.8415,234.069 198.9294,232.704 192.5488,220.678 C183.7165,237.3985 174.4222,237.4598 162.5678,223.6453 C151.4552,240.7197 135.7291,236.7288 128.1023,220.0824 C119.9431,234.0043 108.0596,230.1353 101.7353,218.2107 C93.5771,237.7377 80.6614,237.3628 68.0235,222.617 C50.9309,235.0602 34.9784,234.065 30,210 C33.0032,207.8768 35.2765,209.4261 35.3161,212.8435 C7.2713,201.7518 3.9456,185.3368 24.0453,163.2939 C2.6101,141.0163 4.812,113.7562 37,103 C40.2223,101.7877 42.4678,103.4328 41.5376,106.9685 " fill="#FFFFFF" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="193" y="120.9951">Capitularia VM</text><!--MD5=[c80f0d56bca040aa79a2a649a2e57798]
entity cron--><rect fill="#FEFECE" filter="url(#fka0s7m3ki2db)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="38.5" y="146.5"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="91.5" y="151.5"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="89.5" y="153.5"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="89.5" y="157.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="53.5" y="179.4951">Cron</text><!--MD5=[c35cdf1439de4198207974f82c6d0a64]
entity make--><rect fill="#FEFECE" filter="url(#fka0s7m3ki2db)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="147" y="146.5"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="223" y="151.5"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="221" y="153.5"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="221" y="157.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="162" y="179.4951">Makefile</text><!--MD5=[18796deb02f0659c6ca53e1a4bf65658]
entity saxon--><rect fill="#FEFECE" filter="url(#fka0s7m3ki2db)" height="78.8906" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="278" y="130"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="440" y="135"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="438" y="137"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="438" y="141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="311.5" y="162.9951">mss-header.xsl</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="142" x="293" y="179.292">mss-transcription.xsl</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="315.5" y="195.5889">mss-footer.xsl</text><!--MD5=[f43d1bbe4f1159838c5f6e7e47575b7c]
entity tei--><path d="M305.5,18 C305.5,8 369,8 369,8 C369,8 432.5,8 432.5,18 L432.5,59.5938 C432.5,69.5938 369,69.5938 369,69.5938 C369,69.5938 305.5,69.5938 305.5,59.5938 L305.5,18 " fill="#FEFECE" filter="url(#fka0s7m3ki2db)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M305.5,18 C305.5,28 369,28 369,28 C369,28 432.5,28 432.5,18 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="315.5" y="44.9951">Manuscript files</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="332.5" y="61.292">(XML+TEI)</text><path d="M191.5,26.5 L191.5,51.6328 A0,0 0 0 0 191.5,51.6328 L270.5,51.6328 A0,0 0 0 0 270.5,51.6328 L270.5,44.5 L305.21,39 L270.5,36.5 L270.5,36.5 L260.5,26.5 L191.5,26.5 A0,0 0 0 0 191.5,26.5 " fill="#FBFB77" filter="url(#fka0s7m3ki2db)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M260.5,26.5 L260.5,36.5 L270.5,36.5 L260.5,26.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="197.5" y="43.5669">publ/mss</text><!--MD5=[0a2bd27fccdac7a369aac2b428719809]
entity html--><path d="M305.5,279 C305.5,269 369,269 369,269 C369,269 432.5,269 432.5,279 L432.5,320.5938 C432.5,330.5938 369,330.5938 369,330.5938 C369,330.5938 305.5,330.5938 305.5,320.5938 L305.5,279 " fill="#FEFECE" filter="url(#fka0s7m3ki2db)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M305.5,279 C305.5,289 369,289 369,289 C369,289 432.5,289 432.5,279 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="315.5" y="305.9951">Manuscript files</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="345" y="322.292">(HTML)</text><path d="M149.5,287.5 L149.5,312.6328 A0,0 0 0 0 149.5,312.6328 L270.5,312.6328 A0,0 0 0 0 270.5,312.6328 L270.5,305.5 L305.17,300 L270.5,297.5 L270.5,297.5 L260.5,287.5 L149.5,287.5 A0,0 0 0 0 149.5,287.5 " fill="#FBFB77" filter="url(#fka0s7m3ki2db)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M260.5,287.5 L260.5,297.5 L270.5,297.5 L260.5,287.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="155.5" y="304.5669">publ/cache/mss</text><!--MD5=[98113339b43c387f5e9d8a6bec126949]
link tei to saxon--><path d="M369,70.13 C369,86.4 369,106.79 369,124.78 " fill="none" id="tei-&gt;saxon" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="369,129.78,373,120.78,369,124.78,365,120.78,369,129.78" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[219b7a9b396734858da37580f72c6614]
link saxon to html--><path d="M369,209.05 C369,226.34 369,246.59 369,263.5 " fill="none" id="saxon-&gt;html" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="369,268.64,373,259.64,369,263.64,365,259.64,369,268.64" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[16b2f23e595c1c5de587a32b661386ae]
link cron to make--><path d="M111.56,169.5 C121.55,169.5 131.55,169.5 141.54,169.5 " fill="none" id="cron-&gt;make" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="146.76,169.5,137.76,165.5,141.76,169.5,137.76,173.5,146.76,169.5" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[42211ccb8b439fe830e993a3999a0d06]
link make to saxon--><path d="M243.26,169.5 C253.02,169.5 262.78,169.5 272.54,169.5 " fill="none" id="make-&gt;saxon" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="277.64,169.5,268.64,165.5,272.64,169.5,268.64,173.5,277.64,169.5" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d4f5134759748551725cdc6291c45909]
@startuml

   skinparam backgroundColor transparent
   skinparam DefaultTextAlignment center
   skinparam componentStyle uml2
   skinparam actorStyle awesome

skinparam backgroundColor transparent
skinparam DefaultTextAlignment center
skinparam componentStyle uml2

database  "Manuscript files\n(XML+TEI)" as tei
note left of tei: publ/mss

cloud "Capitularia VM" as vm {
  component "Cron"                       as cron
  component "Makefile"                   as make
  component saxon [mss-header.xsl
  mss-transcription.xsl
  mss-footer.xsl]
}

database  "Manuscript files\n(HTML)"   as html
note left of html: publ/cache/mss

tei      - -> saxon
saxon    - -> html

cron .> make
make .> saxon
@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.3+7-Debian-1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg></div>
<figcaption>
<p><span class="caption-text">Data flow during HTML generation</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The Makefile is run by cron on the Capitularia VM at regular intervals.</p>
<p>The Makefile knows all the dependencies between the files and runs the
appropriate tools to keep the HTML files up-to-date with the manuscript files.</p>
<p>The HTML files are stored in the cache directory.</p>
<p>See also: the <a class="reference internal" href="../vm/transformations.html#transformations"><span class="std std-ref">list of all transformations</span></a>
complete with input and output files and urls.</p>
</section>
<section id="user-delivery">
<h2>User Delivery<a class="headerlink" href="#user-delivery" title="Permalink to this headline">¶</a></h2>
<figure class="align-center" id="id3">
<div  class="pic pic-format-text-xml pic-language-uml">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="483px" preserveAspectRatio="none"  version="1.1" viewBox="0 0 388 483" width="388px" zoomAndPan="magnify"><defs><filter height="300%" id="foqcauvm0lmdo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[16b87fbd08c4b66ef34e0b1b8f9df657]
cluster Apache--><path d="M40.7587,95.9184 C48.197,86.5592 54.653,86.3069 61.0812,96.9449 C67.2804,83.0048 75.559,84.844 85.1623,93.2816 C91.4891,81.9504 98.2637,83.2707 105.4029,92.4811 C113.6348,81.7974 121.1732,83.3299 128.9961,92.9563 C135.6545,82.0933 144.1044,79.4823 152.7625,90.815 C158.3621,79.8585 167.477,78.8358 175.1837,88.527 C181.547,80.268 191.6147,80.6297 196.5939,90.19 C203.8653,79.7134 214.5825,81.1593 220.9869,91.2198 C227.1558,80.5301 236.6513,79 243.3196,90.7223 C250.9755,81.6154 259.9334,83.1656 264.8124,93.7529 C270.1342,82.2714 280.0546,83.9782 285.6912,93.4391 C293.0038,80.7013 300.5017,82.733 308.7434,92.4869 C316.2507,82.6217 326.0288,86.2482 330.0721,96.2128 C340.4207,85.497 353.1287,84.6607 359,101 C359.6876,100.9449 359.9219,101.3612 359.7239,101.9682 C371.7883,107.3439 373.6129,117.8463 363.1461,126.3804 C374.0717,133.6745 373.7071,142.3633 363.843,150.264 C374.5939,160.3331 375.7657,168.7812 362.4931,177.6668 C372.4684,183.0221 374.7527,193.8194 363.8351,200.4076 C376.9016,207.8091 374.0367,218.3505 363.1479,225.085 C374.5415,232.8151 371.9167,240.2821 362.3245,247.232 C374.1395,254.214 371.5304,265.0106 361.3327,271.077 C371.7944,277.1511 373.4723,288.4346 362.2005,295.2877 C374.3451,302.4694 375.3307,314.2221 363.2684,322.3587 C374.0121,330.1475 372.4242,338.146 361.7359,344.4478 C373.8949,352.6131 373.8043,360.5573 361.8346,368.8203 C373.9483,382.9313 367.0911,393.058 352,398 C353.8803,398.9538 354.2265,400.8475 352.3398,402.1126 C345.9346,410.5925 335.1745,410.4539 331.0206,399.6267 C324.0368,409.0319 317.1553,412.1821 308.9882,400.886 C303.792,411.9904 293.4339,412.6207 287.2773,401.8386 C279.824,414.3005 271.051,411.316 264.2244,401.1988 C258.6999,411.6157 247.1511,412.4059 240.0348,403.1567 C234.4924,412.7125 224.4669,411.949 219.5007,402.5331 C212.8706,413.7451 203.8901,414.6506 197.274,402.5197 C189.3052,412.6827 180.6827,412.8867 174.5293,400.6743 C166.6692,412.6214 158.7831,411.9409 149.8074,401.9303 C143.4593,411.6708 137.5846,410.6377 130.5009,402.7353 C123.3784,412.6254 113.2116,411.2068 108.6179,400.0998 C99.7073,412.7042 92.0451,410.4178 83.9436,399.2596 C75.4905,409.8628 68.1735,410.4323 59.9863,398.971 C47.8193,412.6923 34.4157,406.4387 30,391 C32.2703,391.9732 32.4486,393.4565 30.6969,395.1114 C18.4119,388.143 17.8713,379.0218 29.4186,370.8004 C16.6386,364.0053 17.5209,350.8026 29.1812,343.7926 C16.8414,337.5444 17.8156,329.4723 27.9761,321.981 C17.594,314.1326 16.209,305.1071 27.3787,296.7485 C16.4713,290.5896 12.9277,283.0722 23.9148,273.6325 C12.8405,267.6546 10.683,256.6787 23.248,250.0328 C13.0186,239.9021 15.4913,230.6026 27.8414,224.5405 C15.646,218.0532 14.0438,205.5875 27.9867,199.2504 C16.5604,193.9293 16.9359,183.9936 26.746,177.4632 C15.2739,169.4151 14.7598,155.9808 29.2154,150.2889 C19.4053,141.1285 20.3448,134.4086 33.0416,129.3635 C19.2095,116.331 20.3863,103.6246 37,94 C38.9882,93.0065 40.6088,93.3102 40.7587,95.9184 " fill="#FFFFFF" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="165" y="111.9951">Apache</text><!--MD5=[a56a19e366b740ee8f975c5d1889df88]
cluster Wordpress--><rect fill="#FFFFFF" filter="url(#foqcauvm0lmdo)" height="253" style="stroke: #000000; stroke-width: 1.5;" width="200" x="143" y="129"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="199.5" y="143.9951">Wordpress</text><!--MD5=[7468467f3b6b392f1d176d828c753b77]
entity db--><path d="M38,313.5 C38,303.5 81,303.5 81,303.5 C81,303.5 124,303.5 124,313.5 L124,355.0938 C124,365.0938 81,365.0938 81,365.0938 C81,365.0938 38,365.0938 38,355.0938 L38,313.5 " fill="#FEFECE" filter="url(#foqcauvm0lmdo)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M38,313.5 C38,323.5 81,323.5 81,323.5 C81,323.5 124,323.5 124,313.5 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="48" y="340.4951">Database</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="56" y="356.792">(mysql)</text><!--MD5=[69261fdf679bace4394aa6c887036120]
entity pp--><rect fill="#FEFECE" filter="url(#foqcauvm0lmdo)" height="78.8906" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="170" y="164"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="296" y="169"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="294" y="171"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="294" y="175"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="202.5" y="196.9951">Footnotes</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="185" y="213.292">Post-Processor</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="219" y="229.5889">(PHP)</text><!--MD5=[79d3b2ca01a010aa7ee17b7a65d0e8fb]
entity fi--><rect fill="#FEFECE" filter="url(#foqcauvm0lmdo)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="159" y="303"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="307" y="308"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="305" y="310"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="305" y="314"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="174" y="335.9951">File Includer Plugin</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="219" y="352.292">(PHP)</text><!--MD5=[0a2bd27fccdac7a369aac2b428719809]
entity html--><path d="M179.5,18 C179.5,8 243,8 243,8 C243,8 306.5,8 306.5,18 L306.5,59.5938 C306.5,69.5938 243,69.5938 243,69.5938 C243,69.5938 179.5,69.5938 179.5,59.5938 L179.5,18 " fill="#FEFECE" filter="url(#foqcauvm0lmdo)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M179.5,18 C179.5,28 243,28 243,28 C243,28 306.5,28 306.5,18 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="189.5" y="44.9951">Manuscript files</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="219" y="61.292">(HTML)</text><path d="M23.5,26.5 L23.5,51.6328 A0,0 0 0 0 23.5,51.6328 L144.5,51.6328 A0,0 0 0 0 144.5,51.6328 L144.5,44.5 L179.17,39 L144.5,36.5 L144.5,36.5 L134.5,26.5 L23.5,26.5 A0,0 0 0 0 23.5,26.5 " fill="#FBFB77" filter="url(#foqcauvm0lmdo)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M134.5,26.5 L134.5,36.5 L144.5,36.5 L134.5,26.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="29.5" y="43.5669">publ/cache/mss</text><!--MD5=[4a65e84059005d12693a083370a06717]
entity client--><rect fill="#FEFECE" filter="url(#foqcauvm0lmdo)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="184" y="426"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="282" y="431"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="280" y="433"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="280" y="437"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="199" y="458.9951">User-Agent</text><!--MD5=[9106a1798c260db26329197e3176ae95]
link html to pp--><path d="M243,70.18 C243,95.07 243,130.7 243,158.72 " fill="none" id="html-&gt;pp" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="243,163.86,247,154.86,243,158.86,239,154.86,243,163.86" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[4e0fc4c22692868f91a59d0f8bbe988a]
link pp to fi--><path d="M243,243.2 C243,260.42 243,280.58 243,297.47 " fill="none" id="pp-&gt;fi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="243,302.6,247,293.6,243,297.6,239,293.6,243,302.6" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[df8f87e7a32bdc19e181481244a62650]
link fi to client--><path d="M243,366.24 C243,383.19 243,404.06 243,420.47 " fill="none" id="fi-&gt;client" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="243,425.86,247,416.86,243,420.86,239,416.86,243,425.86" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[47a94eef6618897ac93409ef467c1cfe]
link db to fi--><path d="M124.03,352.64 C133.92,355.3 143.82,356.93 153.71,357.51 " fill="none" id="db-&gt;fi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="158.89,357.72,150.0576,353.3625,153.894,357.5196,149.7369,361.356,158.89,357.72" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3b23ba4692d1b7e1ae60425e937d5fcf]
reverse link db to fi--><path d="M128.93,315.12 C138.92,312.78 148.9,311.5 158.89,311.28 " fill="none" id="db&lt;-fi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="124.03,316.36,133.7361,318.0309,128.8773,315.1339,131.7743,310.2752,124.03,316.36" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[69b36b05050a948b739e24db371cfe87]
@startuml

   skinparam backgroundColor transparent
   skinparam DefaultTextAlignment center
   skinparam componentStyle uml2
   skinparam actorStyle awesome

skinparam backgroundColor transparent
skinparam DefaultTextAlignment center
skinparam componentStyle uml2

database "Manuscript files\n(HTML)" as html
note left of html: publ/cache/mss

cloud "Apache" {
  database  "Database\n(mysql)" as db
  rectangle "Wordpress" {
    component "Footnotes\nPost-Processor\n(PHP)" as pp
    component "File Includer Plugin\n(PHP)" as fi
  }
}
component "User-Agent" as client

html  - -> pp
pp    - -> fi
fi    - -> client

db    -> fi
db    <- fi
@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.3+7-Debian-1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg></div>
<figcaption>
<p><span class="caption-text">Data flow during user access</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>When a user accesses a manuscript page, Wordpress finds a shortcode for the
<a class="reference internal" href="../vm/apache/wordpress/plugins/file-includer.html#file-includer"><span class="std std-ref">File Includer plugin</span></a> in it.  Control is passed to the File
Includer plugin which checks the date of the filum includendum.  If the file is
newer than the data stored in the database it refreshes the database.  Then it
inserts the file’s content into the page, which is finally sent to the user.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Footnotes Post-Processor is still written in PHP.
We plan to rewrite it in Python. (Nov. 2019)</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../overviews.html" class="btn btn-neutral float-left" title="Overviews" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="collation_tool.html" class="btn btn-neutral float-right" title="Overview of the Collation Tool" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018-22 CCeH - Licensed under the GNU GPL v3 or later.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>