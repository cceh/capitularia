

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>HTML Generation &mdash; Capitularia 0.1.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/my_theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Overview of the Collation Tool" href="collation_tool.html" />
    <link rel="prev" title="Overviews" href="../overviews.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Capitularia
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#platforms">Platforms</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../overviews.html">Overviews</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">HTML Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#xslt-transformations">XSLT Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-delivery">User Delivery</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="collation_tool.html">Overview of the Collation Tool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="collation_tool.html#pre-processing-of-the-tei-files">Pre-Processing of the TEI files</a></li>
<li class="toctree-l3"><a class="reference internal" href="collation_tool.html#collation">Collation</a></li>
<li class="toctree-l3"><a class="reference internal" href="collation_tool.html#custom-version-of-collatex">Custom Version of CollateX</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="meta_search.html">Meta Search</a><ul>
<li class="toctree-l3"><a class="reference internal" href="meta_search.html#metadata-extraction">Metadata Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="meta_search.html#fulltext-extraction">Fulltext Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="meta_search.html#search">Search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="collections.html">Collections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="collections.html#algorithm">Algorithm</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../webprojekt.html">RRZK Web Projekt Capitularia</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../webprojekt/wordpress.html">Wordpress Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../webprojekt/database.html">Wordpress Database Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../webprojekt/database.html#metadata">Metadata</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../webprojekt/wordpress-custom.html">Wordpress Customizations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../webprojekt/wordpress/theme.html">Wordpress Theme</a></li>
<li class="toctree-l3"><a class="reference internal" href="../webprojekt/wordpress/plugins.html">Wordpress Plugins</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../vm.html">Capitularia VM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../vm/app_server.html">Application Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#server">server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-data_server">data_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-collatex_server">collatex_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-geo_server">geo_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#tile-server">tile_server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vm/database.html">Database Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/database.html#schema-capitularia">Schema <em>capitularia:</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/database.html#schema-gis">Schema <em>gis:</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/database.html#db-py">db.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vm/transformations.html">XSLT Transformations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/transformations.html#graph-of-all-transformations">Graph of All Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/transformations.html#graph-of-stylesheet-dependencies">Graph of Stylesheet Dependencies</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Capitularia</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../overviews.html">Overviews</a> &raquo;</li>
        
      <li>HTML Generation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/overviews/html_generation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="html-generation">
<span id="id1"></span><h1>HTML Generation<a class="headerlink" href="#html-generation" title="Permalink to this headline">¶</a></h1>
<p>All TEI manuscript files are converted to one (or more) HTML files.  The HTML
files are then included into Wordpress pages with the <a class="reference internal" href="../webprojekt/wordpress/plugins/file-includer.html#file-includer"><span class="std std-ref">File Includer
plugin</span></a>.</p>
<div class="section" id="xslt-transformations">
<h2>XSLT Transformations<a class="headerlink" href="#xslt-transformations" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id2">
<div  class="pic pic-format-dot">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="342px" preserveAspectRatio="none" style="width:507px;height:342px;" version="1.1" viewBox="0 0 507 342" width="507px" zoomAndPan="magnify"><defs><filter height="300%" id="f1owd7o0oe8irj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[72ee43ebcd6b294b38e8464aac6a1ff3]
cluster vm--><path d="M41.5376,106.9685 C48.8657,92.5133 60.362,92.17 70.3715,104.0305 C80.3262,90.7678 90.2037,87.679 100.1955,103.9931 C110.8432,90.9398 122.9022,91.365 132.3213,105.4476 C136.6639,91.1668 148.8952,90.0646 158.2853,100.046 C169.1343,86.1428 184.8854,83.5693 193.6628,102.2923 C200.9732,88.0695 210.3952,88.2926 219.4288,100.6199 C229.7922,81.4175 244.41,84.5515 254.5518,100.8392 C260.8606,87.3558 275.5325,85.5639 284.2456,98.0949 C292.9577,87.9986 302.5844,87.148 310.0239,99.5529 C323.3165,87.3081 334.864,85.4845 343.1381,104.8159 C350.2308,91.2527 361.4588,88.7326 371.7388,101.3314 C382.3132,89.8918 393.1246,88.1425 401.4032,103.8409 C410.7635,91.2248 425.8103,92.2927 433.6478,105.7259 C446.6284,89.6802 459.2538,92.0123 468,110 C469.4909,109.6241 470.4691,110.5154 469.9864,112.051 C495.0193,126.5156 495.8258,144.1164 471.4558,160.0921 C494.0415,182.4705 487.1784,203.5812 461,217 C463.422,216.0851 464.8093,217.3292 464.1332,219.8365 C455.3247,233.0038 444.4507,232.3376 435.9186,219.5362 C428.7006,235.7035 412.5717,236.275 403.3432,221.6642 C394.0515,235.8027 383.5538,233.1921 374.4473,221.4574 C366.2014,236.4946 352.0455,235.7085 342.3897,223.0918 C333.4744,238.0147 318.4125,239.5056 310.3836,222.2111 C303.8439,236.7739 293.7834,237.4428 284.3573,224.992 C275.7004,243.9044 259.738,241.3929 249.8068,226.2861 C238.5449,241.2167 227.2761,237.4688 219.2075,222.9663 C210.8415,234.069 198.9294,232.704 192.5488,220.678 C183.7165,237.3985 174.4222,237.4598 162.5678,223.6453 C151.4552,240.7197 135.7291,236.7288 128.1023,220.0824 C119.9431,234.0043 108.0596,230.1353 101.7353,218.2107 C93.5771,237.7377 80.6614,237.3628 68.0235,222.617 C50.9309,235.0602 34.9784,234.065 30,210 C33.0032,207.8768 35.2765,209.4261 35.3161,212.8435 C7.2713,201.7518 3.9456,185.3368 24.0453,163.2939 C2.6101,141.0163 4.812,113.7562 37,103 C40.2223,101.7877 42.4678,103.4328 41.5376,106.9685 " fill="#FFFFFF" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="193" y="120.9951">Capitularia VM</text><!--MD5=[c80f0d56bca040aa79a2a649a2e57798]
entity cron--><rect fill="#FEFECE" filter="url(#f1owd7o0oe8irj)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="38.5" y="146.5"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="91.5" y="151.5"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="89.5" y="153.5"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="89.5" y="157.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="53.5" y="179.4951">Cron</text><!--MD5=[c35cdf1439de4198207974f82c6d0a64]
entity make--><rect fill="#FEFECE" filter="url(#f1owd7o0oe8irj)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="147" y="146.5"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="223" y="151.5"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="221" y="153.5"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="221" y="157.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="162" y="179.4951">Makefile</text><!--MD5=[18796deb02f0659c6ca53e1a4bf65658]
entity saxon--><rect fill="#FEFECE" filter="url(#f1owd7o0oe8irj)" height="78.8906" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="278" y="130"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="440" y="135"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="438" y="137"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="438" y="141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="311.5" y="162.9951">mss-header.xsl</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="142" x="293" y="179.292">mss-transcription.xsl</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="315.5" y="195.5889">mss-footer.xsl</text><!--MD5=[f43d1bbe4f1159838c5f6e7e47575b7c]
entity tei--><path d="M305.5,18 C305.5,8 369,8 369,8 C369,8 432.5,8 432.5,18 L432.5,59.5938 C432.5,69.5938 369,69.5938 369,69.5938 C369,69.5938 305.5,69.5938 305.5,59.5938 L305.5,18 " fill="#FEFECE" filter="url(#f1owd7o0oe8irj)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M305.5,18 C305.5,28 369,28 369,28 C369,28 432.5,28 432.5,18 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="315.5" y="44.9951">Manuscript files</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="333.5" y="61.292">(XML+TEI)</text><path d="M162,26.5 L162,51.6328 A0,0 0 0 0 162,51.6328 L270,51.6328 A0,0 0 0 0 270,51.6328 L270,44.5 L305.25,39 L270,36.5 L270,36.5 L260,26.5 L162,26.5 A0,0 0 0 0 162,26.5 " fill="#FBFB77" filter="url(#f1owd7o0oe8irj)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M260,26.5 L260,36.5 L270,36.5 L260,26.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="168" y="43.5669">AFS:publ/mss</text><!--MD5=[0a2bd27fccdac7a369aac2b428719809]
entity html--><path d="M305.5,279 C305.5,269 369,269 369,269 C369,269 432.5,269 432.5,279 L432.5,320.5938 C432.5,330.5938 369,330.5938 369,330.5938 C369,330.5938 305.5,330.5938 305.5,320.5938 L305.5,279 " fill="#FEFECE" filter="url(#f1owd7o0oe8irj)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M305.5,279 C305.5,289 369,289 369,289 C369,289 432.5,289 432.5,279 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="315.5" y="305.9951">Manuscript files</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="345" y="322.292">(HTML)</text><path d="M120,287.5 L120,312.6328 A0,0 0 0 0 120,312.6328 L270,312.6328 A0,0 0 0 0 270,312.6328 L270,305.5 L305.26,300 L270,297.5 L270,297.5 L260,287.5 L120,287.5 A0,0 0 0 0 120,287.5 " fill="#FBFB77" filter="url(#f1owd7o0oe8irj)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M260,287.5 L260,297.5 L270,297.5 L260,287.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="126" y="304.5669">AFS:publ/cache/mss</text><!--MD5=[98113339b43c387f5e9d8a6bec126949]
link tei to saxon--><path d="M369,70.13 C369,86.4 369,106.79 369,124.78 " fill="none" id="tei-&gt;saxon" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="369,129.78,373,120.78,369,124.78,365,120.78,369,129.78" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[219b7a9b396734858da37580f72c6614]
link saxon to html--><path d="M369,209.05 C369,226.34 369,246.59 369,263.5 " fill="none" id="saxon-&gt;html" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="369,268.64,373,259.64,369,263.64,365,259.64,369,268.64" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[16b2f23e595c1c5de587a32b661386ae]
link cron to make--><path d="M111.56,169.5 C121.55,169.5 131.55,169.5 141.54,169.5 " fill="none" id="cron-&gt;make" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="146.76,169.5,137.76,165.5,141.76,169.5,137.76,173.5,146.76,169.5" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[42211ccb8b439fe830e993a3999a0d06]
link make to saxon--><path d="M243.26,169.5 C253.02,169.5 262.78,169.5 272.54,169.5 " fill="none" id="make-&gt;saxon" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="277.64,169.5,268.64,165.5,272.64,169.5,268.64,173.5,277.64,169.5" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f0a53f5c42c9f61ead2f366957cbe474]
@startuml
skinparam backgroundColor transparent
skinparam DefaultTextAlignment center
skinparam componentStyle uml2

database  "Manuscript files\n(XML+TEI)" as tei
note left of tei: AFS:publ/mss

cloud "Capitularia VM" as vm {
  component "Cron"                       as cron
  component "Makefile"                   as make
  component saxon [mss-header.xsl
  mss-transcription.xsl
  mss-footer.xsl]
}

database  "Manuscript files\n(HTML)"   as html
note left of html: AFS:publ/cache/mss

tei      - -> saxon
saxon    - -> html

cron .> make
make .> saxon
@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7-ea+9-post-Debian-1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg></div>
<p class="caption"><span class="caption-text">Data flow during HTML generation</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>The Makefile is run by cron on the Capitularia VM at regular intervals.</p>
<p>The manuscript and HTML files reside in the AFS.  The AFS is mounted onto
the VM.</p>
<p>The Makefile knows all the dependencies between the files and runs the
appropriate tools to keep the HTML files up-to-date with the manuscript files.</p>
<p>The HTML files are stored in the cache directory.</p>
<p>See also: the <a class="reference internal" href="../vm/transformations.html#transformations"><span class="std std-ref">list of all transformations</span></a>
complete with input and output files and urls.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The XSLT stylesheets are written in XSLT 1 for historical reasons.  That is
why we still use xsltproc.  We plan to rewrite them in XSLT 3 and use Saxon
as soon as possible. (Nov. 2019)</p>
</div>
</div>
<div class="section" id="user-delivery">
<h2>User Delivery<a class="headerlink" href="#user-delivery" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id3">
<div  class="pic pic-format-dot">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="483px" preserveAspectRatio="none" style="width:400px;height:483px;" version="1.1" viewBox="0 0 400 483" width="400px" zoomAndPan="magnify"><defs><filter height="300%" id="fns6ijmwinygo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[562c87108842435fbb68b7285e961273]
cluster RRZK WebProjekt--><path d="M52.7587,95.9184 C60.197,86.5592 66.653,86.3069 73.0812,96.9449 C79.2804,83.0048 87.559,84.844 97.1623,93.2816 C103.4891,81.9504 110.2637,83.2707 117.4029,92.4811 C125.6348,81.7974 133.1732,83.3299 140.9961,92.9563 C147.6545,82.0933 156.1044,79.4823 164.7625,90.815 C170.3621,79.8585 179.477,78.8358 187.1837,88.527 C193.547,80.268 203.6147,80.6297 208.5939,90.19 C215.8653,79.7134 226.5825,81.1593 232.9869,91.2198 C239.1558,80.5301 248.6513,79 255.3196,90.7223 C262.9755,81.6154 271.9334,83.1656 276.8124,93.7529 C282.1342,82.2714 292.0546,83.9782 297.6912,93.4391 C305.0038,80.7013 312.5017,82.733 320.7434,92.4869 C328.2507,82.6217 338.0288,86.2482 342.0721,96.2128 C352.4207,85.497 365.1287,84.6607 371,101 C371.6876,100.9449 371.9219,101.3612 371.7239,101.9682 C383.7883,107.3439 385.6129,117.8463 375.1461,126.3804 C386.0717,133.6745 385.7071,142.3633 375.843,150.264 C386.5939,160.3331 387.7657,168.7812 374.4931,177.6668 C384.4684,183.0221 386.7527,193.8194 375.8351,200.4076 C388.9016,207.8091 386.0367,218.3505 375.1479,225.085 C386.5415,232.8151 383.9167,240.2821 374.3245,247.232 C386.1395,254.214 383.5304,265.0106 373.3327,271.077 C383.7944,277.1511 385.4723,288.4346 374.2005,295.2877 C386.3451,302.4694 387.3307,314.2221 375.2684,322.3587 C386.0121,330.1475 384.4242,338.146 373.7359,344.4478 C385.8949,352.6131 385.8043,360.5573 373.8346,368.8203 C385.9483,382.9313 379.0911,393.058 364,398 C365.8803,398.9538 366.2265,400.8475 364.3398,402.1126 C357.9346,410.5925 347.1745,410.4539 343.0206,399.6267 C336.0368,409.0319 329.1553,412.1821 320.9882,400.886 C315.792,411.9904 305.4339,412.6207 299.2773,401.8386 C291.824,414.3005 283.051,411.316 276.2244,401.1988 C270.6999,411.6157 259.1511,412.4059 252.0348,403.1567 C246.4924,412.7125 236.4669,411.949 231.5007,402.5331 C224.8706,413.7451 215.8901,414.6506 209.274,402.5197 C201.3052,412.6827 192.6827,412.8867 186.5293,400.6743 C178.6692,412.6214 170.7831,411.9409 161.8074,401.9303 C155.4593,411.6708 149.5846,410.6377 142.5009,402.7353 C135.3784,412.6254 125.2116,411.2068 120.6179,400.0998 C111.7073,412.7042 104.0451,410.4178 95.9436,399.2596 C87.4905,409.8628 80.1735,410.4323 71.9863,398.971 C59.8193,412.6923 46.4157,406.4387 42,391 C44.2703,391.9732 44.4486,393.4565 42.6969,395.1114 C30.4119,388.143 29.8713,379.0218 41.4186,370.8004 C28.6386,364.0053 29.5209,350.8026 41.1812,343.7926 C28.8414,337.5444 29.8156,329.4723 39.9761,321.981 C29.594,314.1326 28.209,305.1071 39.3787,296.7485 C28.4713,290.5896 24.9277,283.0722 35.9148,273.6325 C24.8405,267.6546 22.683,256.6787 35.248,250.0328 C25.0186,239.9021 27.4913,230.6026 39.8414,224.5405 C27.646,218.0532 26.0438,205.5875 39.9867,199.2504 C28.5604,193.9293 28.9359,183.9936 38.746,177.4632 C27.2739,169.4151 26.7598,155.9808 41.2154,150.2889 C31.4053,141.1285 32.3448,134.4086 45.0416,129.3635 C31.2095,116.331 32.3863,103.6246 49,94 C50.9882,93.0065 52.6088,93.3102 52.7587,95.9184 " fill="#FFFFFF" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="137.5" y="111.9951">RRZK WebProjekt</text><!--MD5=[a56a19e366b740ee8f975c5d1889df88]
cluster Wordpress--><rect fill="#FFFFFF" filter="url(#fns6ijmwinygo)" height="253" style="stroke: #000000; stroke-width: 1.5;" width="200" x="155" y="129"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="211.5" y="143.9951">Wordpress</text><!--MD5=[7468467f3b6b392f1d176d828c753b77]
entity db--><path d="M50,313.5 C50,303.5 93,303.5 93,303.5 C93,303.5 136,303.5 136,313.5 L136,355.0938 C136,365.0938 93,365.0938 93,365.0938 C93,365.0938 50,365.0938 50,355.0938 L50,313.5 " fill="#FEFECE" filter="url(#fns6ijmwinygo)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M50,313.5 C50,323.5 93,323.5 93,323.5 C93,323.5 136,323.5 136,313.5 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="60" y="340.4951">Database</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="68" y="356.792">(mysql)</text><!--MD5=[69261fdf679bace4394aa6c887036120]
entity pp--><rect fill="#FEFECE" filter="url(#fns6ijmwinygo)" height="78.8906" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="182" y="164"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="308" y="169"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="306" y="171"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="306" y="175"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="214.5" y="196.9951">Footnotes</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="197" y="213.292">Post-Processor</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="231" y="229.5889">(PHP)</text><!--MD5=[79d3b2ca01a010aa7ee17b7a65d0e8fb]
entity fi--><rect fill="#FEFECE" filter="url(#fns6ijmwinygo)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="171" y="303"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="319" y="308"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="317" y="310"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="317" y="314"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="186" y="335.9951">File Includer Plugin</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="231" y="352.292">(PHP)</text><!--MD5=[0a2bd27fccdac7a369aac2b428719809]
entity html--><path d="M191.5,18 C191.5,8 255,8 255,8 C255,8 318.5,8 318.5,18 L318.5,59.5938 C318.5,69.5938 255,69.5938 255,69.5938 C255,69.5938 191.5,69.5938 191.5,59.5938 L191.5,18 " fill="#FEFECE" filter="url(#fns6ijmwinygo)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M191.5,18 C191.5,28 255,28 255,28 C255,28 318.5,28 318.5,18 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="201.5" y="44.9951">Manuscript files</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="231" y="61.292">(HTML)</text><path d="M6,26.5 L6,51.6328 A0,0 0 0 0 6,51.6328 L156,51.6328 A0,0 0 0 0 156,51.6328 L156,44.5 L191.26,39 L156,36.5 L156,36.5 L146,26.5 L6,26.5 A0,0 0 0 0 6,26.5 " fill="#FBFB77" filter="url(#fns6ijmwinygo)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M146,26.5 L146,36.5 L156,36.5 L146,26.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="12" y="43.5669">AFS:publ/cache/mss</text><!--MD5=[4a65e84059005d12693a083370a06717]
entity client--><rect fill="#FEFECE" filter="url(#fns6ijmwinygo)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="196" y="426"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="294" y="431"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="292" y="433"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="292" y="437"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="211" y="458.9951">User-Agent</text><!--MD5=[9106a1798c260db26329197e3176ae95]
link html to pp--><path d="M255,70.18 C255,95.07 255,130.7 255,158.72 " fill="none" id="html-&gt;pp" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="255,163.86,259,154.86,255,158.86,251,154.86,255,163.86" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[4e0fc4c22692868f91a59d0f8bbe988a]
link pp to fi--><path d="M255,243.2 C255,260.42 255,280.58 255,297.47 " fill="none" id="pp-&gt;fi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="255,302.6,259,293.6,255,297.6,251,293.6,255,302.6" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[df8f87e7a32bdc19e181481244a62650]
link fi to client--><path d="M255,366.24 C255,383.19 255,404.06 255,420.47 " fill="none" id="fi-&gt;client" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="255,425.86,259,416.86,255,420.86,251,416.86,255,425.86" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[47a94eef6618897ac93409ef467c1cfe]
link db to fi--><path d="M136.03,352.64 C145.92,355.3 155.82,356.93 165.71,357.51 " fill="none" id="db-&gt;fi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="170.89,357.72,162.0576,353.3625,165.894,357.5196,161.7369,361.356,170.89,357.72" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3b23ba4692d1b7e1ae60425e937d5fcf]
reverse link db to fi--><path d="M140.93,315.12 C150.92,312.78 160.9,311.5 170.89,311.28 " fill="none" id="db&lt;-fi" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="136.03,316.36,145.7361,318.0309,140.8773,315.1339,143.7743,310.2752,136.03,316.36" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[178c0ce5abe62091f87d3e8e3b222690]
@startuml
skinparam backgroundColor transparent
skinparam DefaultTextAlignment center
skinparam componentStyle uml2

database "Manuscript files\n(HTML)" as html
note left of html: AFS:publ/cache/mss

cloud "RRZK WebProjekt" {
  database  "Database\n(mysql)" as db
  rectangle "Wordpress" {
    component "Footnotes\nPost-Processor\n(PHP)" as pp
    component "File Includer Plugin\n(PHP)" as fi
  }
}
component "User-Agent" as client

html  - -> pp
pp    - -> fi
fi    - -> client

db    -> fi
db    <- fi
@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7-ea+9-post-Debian-1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg></div>
<p class="caption"><span class="caption-text">Data flow during user access</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>When a user accesses a manuscript page, Wordpress finds a shortcode for the
<a class="reference internal" href="../webprojekt/wordpress/plugins/file-includer.html#file-includer"><span class="std std-ref">File Includer plugin</span></a> in it.  Control is passed to the File
Includer plugin which checks the date of the filum includendum.  If the file is
newer than the data stored in the database it refreshes the database.  Then it
inserts the file’s content into the page, which is finally sent to the user.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Footnotes Post-Processor is still written in PHP.  We plan to rewrite it
in Python along with the XSL stylesheets and move it to the VM. (Nov. 2019)</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="collation_tool.html" class="btn btn-neutral float-right" title="Overview of the Collation Tool" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../overviews.html" class="btn btn-neutral float-left" title="Overviews" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-20 CCeH - Licensed under the GNU GPL v3 or later

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>