<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Overview of the Collation Tool &mdash; Capitularia 0.2.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/my_theme.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon-cceh-blue.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Meta Search" href="meta_search.html" />
    <link rel="prev" title="HTML Generation" href="html_generation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Capitularia
              <img src="../_static/logo-cceh-white.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../overviews.html">Overviews</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="html_generation.html">HTML Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="html_generation.html#xslt-transformations">XSLT Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="html_generation.html#user-delivery">User Delivery</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Overview of the Collation Tool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pre-processing-of-the-tei-files">Pre-Processing of the TEI files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Collation Tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="#collation-algorithm">Collation Algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="#word-comparison-function">Word Comparison Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="meta_search.html">Meta Search</a><ul>
<li class="toctree-l3"><a class="reference internal" href="meta_search.html#metadata-extraction">Metadata Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="meta_search.html#fulltext-extraction">Fulltext Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="meta_search.html#geodata-extraction">Geodata Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="meta_search.html#search">Search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="collections.html">Collections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="collections.html#algorithm">Algorithm</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../vm.html">Capitularia VM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../vm/intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vm/apache.html">Apache Web Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/apache/wordpress.html">Wordpress Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/apache/database.html">Wordpress Database Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/apache/wordpress-custom.html">Wordpress Customizations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vm/app_server.html">Application Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#server">server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-data_server">data_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-collator_server">collator_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-geo_server">geo_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/app_server.html#module-tile_server">tile_server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vm/database.html">Database Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/database.html#schema-capitularia">Schema <em>capitularia:</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/database.html#schema-gis">Schema <em>gis:</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/database.html#module-db">db.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vm/transformations.html">XSLT Transformations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/transformations.html#graph-of-all-transformations">Graph of All Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/transformations.html#graph-of-stylesheet-dependencies">Graph of Stylesheet Dependencies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vm/user.html">Users of the VM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/user.html#users-and-groups">Users and Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/user.html#adding-a-new-user">Adding a New User</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vm/user.html#security">Security</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vm/backup.html">TSM Backup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../vm/backup.html#update">Update</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../maintenance.html">Maintenance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../maintenance/wordpress.html">Wordpress Maintenance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/wordpress.html#wordpress-upgrades">Wordpress Upgrades</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../maintenance/logfiles.html">Location of Logfiles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/logfiles.html#apache-php">Apache / PHP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/logfiles.html#python-app-server">Python App Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../maintenance/logfiles.html#python-import-script">Python Import Script</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/collation_tool.html">Troubleshooting the Collation Tool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting/collation_tool.html#manuscripts-do-not-show-up">Manuscripts do not show up</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Capitularia</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../overviews.html">Overviews</a></li>
      <li class="breadcrumb-item active">Overview of the Collation Tool</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/overviews/collation_tool.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="overview-of-the-collation-tool">
<span id="collation-tool-overview"></span><h1>Overview of the Collation Tool<a class="headerlink" href="#overview-of-the-collation-tool" title="Permalink to this heading">¶</a></h1>
<p>This overview describes the <a class="reference external" href="https://capitularia.uni-koeln.de/tools/collation/">collation tool</a>
and the pre-processing of the TEI files.</p>
<section id="pre-processing-of-the-tei-files">
<h2>Pre-Processing of the TEI files<a class="headerlink" href="#pre-processing-of-the-tei-files" title="Permalink to this heading">¶</a></h2>
<p>We extract every chapter of every capitular from all manuscripts and store them in the
Postgres database.  The text stored in the database is already normalized.</p>
<p>If a manuscript contains more than one copy of a chapter, all copies are extracted.  If
one or more correcting hands were active in the chapter, the original and each corrected
version are extracted.</p>
<p>The online collation tool knows about all versions and offers them to the user.</p>
<figure class="align-center" id="id3">
<div  class="pic pic-format-text-xml pic-language-uml">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="559px" preserveAspectRatio="none"  version="1.1" viewBox="0 0 554 559" width="554px" zoomAndPan="magnify"><defs><filter height="300%" id="fepju1anfbbem" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[f43d1bbe4f1159838c5f6e7e47575b7c]
entity tei--><path d="M365.5,18 C365.5,8 430,8 430,8 C430,8 494.5,8 494.5,18 L494.5,65.1358 C494.5,75.1358 430,75.1358 430,75.1358 C430,75.1358 365.5,75.1358 365.5,65.1358 L365.5,18 " fill="#FEFECE" filter="url(#fepju1anfbbem)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M365.5,18 C365.5,28 430,28 430,28 C430,28 494.5,28 494.5,18 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="375.5" y="46.9659">Manuscript files</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="397.5" y="66.0339">(XML+TEI)</text><path d="M216,27.5 L216,55.206 A0,0 0 0 0 216,55.206 L330,55.206 A0,0 0 0 0 330,55.206 L330,45.5 L365.18,41.5 L330,37.5 L330,37.5 L320,27.5 L216,27.5 A0,0 0 0 0 216,27.5 " fill="#FBFB77" filter="url(#fepju1anfbbem)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M320,27.5 L320,37.5 L330,37.5 L320,27.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="222" y="46.397">publ/mss/*.xml</text><!--MD5=[c80f0d56bca040aa79a2a649a2e57798]
entity cron--><rect fill="#FEFECE" filter="url(#fepju1anfbbem)" height="49.0679" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="6" y="135"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="58" y="140"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="56" y="142"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="56" y="146"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="21" y="169.9659">Cron</text><!--MD5=[c35cdf1439de4198207974f82c6d0a64]
entity make--><rect fill="#FEFECE" filter="url(#fepju1anfbbem)" height="49.0679" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="113.5" y="135"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="190.5" y="140"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="188.5" y="142"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="188.5" y="146"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="128.5" y="169.9659">Makefile</text><!--MD5=[18796deb02f0659c6ca53e1a4bf65658]
entity saxon--><rect fill="#FEFECE" filter="url(#fepju1anfbbem)" height="49.0679" style="stroke: #A80036; stroke-width: 1.5;" width="226" x="317" y="135"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="523" y="140"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="521" y="142"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="521" y="146"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="186" x="332" y="169.9659">mss-extract-chapters-txt.xsl</text><!--MD5=[0e4e82c954b664e5d225f5849797976f]
entity chapters--><path d="M394.5,254 C394.5,244 466,244 466,244 C466,244 537.5,244 537.5,254 L537.5,301.1358 C537.5,311.1358 466,311.1358 466,311.1358 C466,311.1358 394.5,311.1358 394.5,301.1358 L394.5,254 " fill="#FEFECE" filter="url(#fepju1anfbbem)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M394.5,254 C394.5,264 466,264 466,264 C466,264 537.5,264 537.5,254 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="404.5" y="282.9659">Preprocessed files</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="448" y="302.0339">(XML)</text><path d="M179,263.5 L179,291.206 A0,0 0 0 0 179,291.206 L359,291.206 A0,0 0 0 0 359,291.206 L359,281.5 L394.13,277.5 L359,273.5 L359,273.5 L349,263.5 L179,263.5 A0,0 0 0 0 179,263.5 " fill="#FBFB77" filter="url(#fepju1anfbbem)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M349,263.5 L349,273.5 L359,273.5 L349,263.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="185" y="282.397">publ/cache/collation/*.xml</text><!--MD5=[6b4bfa9e00b0b9cc08101d1a1ff13128]
entity import--><rect fill="#FEFECE" filter="url(#fepju1anfbbem)" height="49.0679" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="243.5" y="371"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="328.5" y="376"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="326.5" y="378"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="326.5" y="382"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="258.5" y="405.9659">import.py</text><!--MD5=[7468467f3b6b392f1d176d828c753b77]
entity db--><path d="M253,490 C253,480 296,480 296,480 C296,480 339,480 339,490 L339,537.1358 C339,547.1358 296,547.1358 296,547.1358 C296,547.1358 253,547.1358 253,537.1358 L253,490 " fill="#FEFECE" filter="url(#fepju1anfbbem)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M253,490 C253,500 296,500 296,500 C296,500 339,500 339,490 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="264.5" y="518.9659">Database</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="263" y="538.0339">(Postgres)</text><!--MD5=[98113339b43c387f5e9d8a6bec126949]
link tei to saxon--><path d="M430,75.12 C430,92.37 430,113.34 430,129.94 " fill="none" id="tei-&gt;saxon" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="430,134.94,434,125.94,430,129.94,426,125.94,430,134.94" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[9d5fa5ffe6311e0213407cfd4f3b9eaa]
link saxon to chapters--><path d="M437.37,184.25 C442.26,200.01 448.78,221.01 454.36,239 " fill="none" id="saxon-&gt;chapters" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="455.91,243.98,457.0617,234.1987,454.4276,239.2048,449.4215,236.5706,455.91,243.98" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[14428c80e3179678075441161e54033f]
link chapters to import--><path d="M418.19,311.12 C391.83,329.11 359.52,351.16 334.74,368.06 " fill="none" id="chapters-&gt;import" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="330.52,370.94,340.2054,369.1531,334.6448,368.114,335.6838,362.5534,330.52,370.94" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6950bf35f0bdfeef2adfc34e16134539]
link import to db--><path d="M296,420.25 C296,435.87 296,456.65 296,474.53 " fill="none" id="import-&gt;db" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="296,479.98,300,470.98,296,474.98,292,470.98,296,479.98" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[16b2f23e595c1c5de587a32b661386ae]
link cron to make--><path d="M78.09,159.5 C88.14,159.5 98.19,159.5 108.24,159.5 " fill="none" id="cron-&gt;make" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="113.49,159.5,104.49,155.5,108.49,159.5,104.49,163.5,113.49,159.5" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[42211ccb8b439fe830e993a3999a0d06]
link make to saxon--><path d="M210.68,159.5 C244.29,159.5 277.91,159.5 311.52,159.5 " fill="none" id="make-&gt;saxon" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="316.91,159.5,307.91,155.5,311.91,159.5,307.91,163.5,316.91,159.5" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e731f16ea0a8d8bacc8eebde1022f2e9]
link make to import--><path d="M155.08,184.17 C147.38,215.4 138.74,271.06 161,311 C177.68,340.93 210.01,361.49 238.85,374.71 " fill="none" id="make-&gt;import" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="243.44,376.77,236.8828,369.4213,238.8828,374.7128,233.5913,376.7129,243.44,376.77" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[96185060e94f7af180ebce24f93570ed]
@startuml

   skinparam backgroundColor transparent
   skinparam DefaultTextAlignment center
   skinparam componentStyle uml2
   skinparam actorStyle awesome

skinparam backgroundColor transparent
skinparam DefaultTextAlignment center
skinparam componentStyle uml2

database  "Manuscript files\n(XML+TEI)"       as tei
note left of tei: publ/mss/*.xml
component "Cron"                              as cron
component "Makefile"                          as make
component "mss-extract-chapters-txt.xsl"      as saxon
database  "Preprocessed files\n(XML)"         as chapters
note left of chapters: publ/cache/collation/*.xml
component "import.py"                         as import
database  "Database\n(Postgres)"              as db

tei      - -> saxon
saxon    - -> chapters
chapters - -> import
import   - -> db

cron .> make
make .> saxon
make .> import
@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 19.0.2+7-Debian-4
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg></div>
<figcaption>
<p><span class="caption-text">Data flow during pre-processing</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The Makefile knows all the dependencies between the files and runs the
appropriate tools to keep the database up-to-date with the manuscript files.</p>
<p>The Makefile is run by cron at regular intervals.</p>
<p>All preprocessed files can be found in the <code class="file docutils literal notranslate"><span class="pre">publ/cache/collation</span></code> directory.  The
preprocessed files are normalized, eg. have the letter <em>V</em> replaced by <em>U</em>.</p>
<p>The <strong class="program">import.py</strong> script imports the preprocessed text files into the database.</p>
</section>
<section id="id1">
<h2>Collation Tool<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h2>
<p>The collation tool consists of two parts: one frontend written in JavaScript and using
the Vue.js library, and one backend application server written in Python and using the
<a class="reference external" href="https://pypi.org/project/super-collator/">super-collator</a> library.</p>
<p>The application server retrieves the chapters from the database and collates them. The
results of the collation are sent in json to the frontend that does the formatting for
display.</p>
<figure class="align-center" id="id4">
<div  class="pic pic-format-text-xml pic-language-uml">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="396px" preserveAspectRatio="none"  version="1.1" viewBox="0 0 367 396" width="367px" zoomAndPan="magnify"><defs><filter height="300%" id="f1drof8wpt1zaq" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[b4e09d266be9964199f2622adcc056fa]
cluster Backend--><path d="M39.3299,35.4942 C44.3886,26.4536 53.5225,25.0214 59.9214,33.9591 C65.6851,21.9655 73.3393,22.7278 81.7243,31.1613 C88.9454,22.2202 95.8779,21.7591 102.6146,31.6973 C108.8522,22.9051 116.8192,23.4411 122.282,32.5485 C127.9377,22.5505 135.7865,23.2874 141.0607,32.9136 C146.1791,21.4626 155.1544,21.3011 161.6032,31.6605 C166.4048,19.8251 173.9027,19.9446 181.8606,28.5294 C189.2369,19.2582 197.7852,17.8289 203.4769,30.2112 C211.5645,20.8255 220.333,19.8043 226.0114,32.6529 C231.489,23.935 239.0789,23.4122 244.7757,32.4209 C248.9181,21.5447 259.0699,21.7043 265.0568,30.5213 C272.2155,22.1013 281.2943,21.1982 286.2321,32.8628 C293.8376,22.4969 299.9964,24.9152 306.2977,34.195 C315.6724,22.4622 328.6036,23.0673 333,39 C334.7268,37.9881 336.3284,38.7269 336.1306,40.8948 C347.9364,46.1137 348.9828,55.9762 338.8703,63.8149 C348.6976,70.187 350.7136,80.2722 338.8633,86.6377 C346.9549,92.8186 348.0573,100.4056 338.8191,106.548 C351.9721,111.0076 353.7369,119.6072 344.442,129.5535 C352.6846,134.7789 355.7496,144.632 344.5635,149.973 C355.1554,157.9344 354.3675,167.9549 342.6775,174.1802 C351.3428,179.7105 350.2461,189.0547 341.5732,193.5991 C352.8147,201.0723 349.9268,210.4774 340.1026,216.604 C349.4424,223.5582 348.6795,234.4802 337.4404,238.9869 C347.8922,251.7821 340.0552,262.9827 326,265 C326.6109,264.5491 327.0619,264.7772 327.1834,265.4954 C322.6124,274.2279 314.2769,275.9052 307.5934,267.9796 C301.9683,277.4574 293.0828,276.1986 288.6257,266.8055 C282.3459,275.763 272.0338,278.4251 266.1548,266.3767 C260.5448,275.3297 251.2453,275.7639 244.7544,267.4697 C238.8287,277.7367 232.8607,276.3672 226.2282,268.1792 C220.0411,277.7213 210.3287,277.1564 205.191,267.0553 C198.9312,278.9664 190.7317,277.6771 183.4005,268.144 C176.9115,279.2656 168.1088,278.6443 160.8709,268.9547 C156.0123,277.5437 148.1721,276.1742 143.9211,268.3281 C137.9419,279.1432 127.5336,280.6519 120.7784,269.1322 C113.9959,277.6026 106.698,278.2824 100.4964,268.4871 C93.8992,276.6658 87.8528,278.3228 81.3865,268.3492 C75.0134,279.7044 65.7556,280.8258 58.976,268.7378 C44.6571,280.7153 33.1864,276.0638 30,258 C31.729,257.8142 32.3597,258.5508 31.9298,260.2318 C21.1915,253.2883 19.3952,246.5068 30.1432,237.8483 C20.2959,230.8831 22.105,223.0269 31.1659,216.9887 C21.7186,210.6111 19.8787,203.0596 30.5965,196.1315 C19.4791,189.5759 20.5789,179.0859 30.4519,172.4023 C18.2793,166.0494 19.8099,157.2291 29.8359,150.2587 C21.1506,142.6021 18.7249,135.0278 30.6254,128.1047 C19.766,121.1822 21.473,111.1525 32.1231,105.6657 C22.1359,99.043 21.9114,92.0563 31.2653,84.6444 C20.8624,77.6853 22.3256,69.9853 32.112,63.8481 C16.8493,50.3734 21.0632,40.6863 37,32 C39.4873,31.8443 40.2289,33.3918 39.3299,35.4942 " fill="#FFFFFF" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="152" y="51.9659">Backend</text><!--MD5=[7468467f3b6b392f1d176d828c753b77]
entity db--><path d="M227,72 C227,62 270,62 270,62 C270,62 313,62 313,72 L313,119.1358 C313,129.1358 270,129.1358 270,129.1358 C270,129.1358 227,129.1358 227,119.1358 L227,72 " fill="#FEFECE" filter="url(#f1drof8wpt1zaq)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M227,72 C227,82 270,82 270,82 C270,82 313,82 313,72 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="238.5" y="100.9659">Database</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="237" y="120.0339">(Postgres)</text><!--MD5=[e2307af040e3f87d22824e7603ca28ec]
entity api--><rect fill="#FEFECE" filter="url(#f1drof8wpt1zaq)" height="68.1358" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="215.5" y="189"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="304.5" y="194"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="302.5" y="196"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="302.5" y="200"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="230.5" y="223.9659">API Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="238" y="243.0339">(Python)</text><!--MD5=[6381cab0df0ee6548e755581de88eda0]
entity lib--><rect fill="#FEFECE" filter="url(#f1drof8wpt1zaq)" height="68.1358" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="38" y="189"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="160" y="194"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="158" y="196"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="158" y="200"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="55.5" y="223.9659">Super-Collator</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="53" y="243.0339">(Python library)</text><!--MD5=[4a65e84059005d12693a083370a06717]
entity client--><rect fill="#FEFECE" filter="url(#f1drof8wpt1zaq)" height="68.1358" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="213.5" y="317"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="306.5" y="322"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="304.5" y="324"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="304.5" y="328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="234.5" y="351.9659">Frontend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="228.5" y="371.0339">(Javascript)</text><!--MD5=[314c9b5bc4dd2dc6e633f2ffbcf881af]
link db to api--><path d="M270,129.15 C270,145.73 270,166 270,183.36 " fill="none" id="db-&gt;api" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="270,188.64,274,179.64,270,183.64,266,179.64,270,188.64" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[8bbc512d03c057d4411096abd71c9ff2]
link api to client--><path d="M270,257.11 C270,273.76 270,294.04 270,311.39 " fill="none" id="api-&gt;client" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="270,316.68,274,307.68,270,311.68,266,307.68,270,316.68" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[73ae650eaf7f2095f942ab708207e218]
link lib to api--><path d="M185.28,223 C193.54,223 201.8,223 210.05,223 " fill="none" id="lib-api" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="215.2,223,206.2,219,210.2,223,206.2,227,215.2,223" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="180.07,223,189.07,227,185.07,223,189.07,219,180.07,223" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[37280b39dc947eebd58cbc8dce7920ed]
@startuml

   skinparam backgroundColor transparent
   skinparam DefaultTextAlignment center
   skinparam componentStyle uml2
   skinparam actorStyle awesome

skinparam backgroundColor transparent
skinparam DefaultTextAlignment center
skinparam componentStyle uml2

cloud "Backend" {
  database  "Database\n(Postgres)"             as db
  component "API Server\n(Python)"             as api
  component "Super-Collator\n(Python library)" as lib
}
component "Frontend\n(Javascript)" as client

db     - ->  api
api    - ->  client
lib    <-> api
@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 19.0.2+7-Debian-4
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg></div>
<figcaption>
<p><span class="caption-text">Data flow during collation</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The collation unit is the chapter, so that only short texts need to be collated,
saving much processing time.</p>
<p>The Wordpress collation plugin delivers the Javascript client to the user.
After that, all communication happens directly between the client and the
application server.</p>
</section>
<section id="collation-algorithm">
<h2>Collation Algorithm<a class="headerlink" href="#collation-algorithm" title="Permalink to this heading">¶</a></h2>
<p>The application server uses an enhancement of the Needleman-Wunsch algorithm by Gotoh
<a class="reference internal" href="#gotoh1982" id="id2"><span>[Gotoh1982]</span></a>.  This section provides a very high level overview of the algorithm.</p>
<section id="phase-1-build-table">
<h3>Phase 1 - Build Table<a class="headerlink" href="#phase-1-build-table" title="Permalink to this heading">¶</a></h3>
<p>In phase 1 the algorithm builds a table.  For example this is the table built for the
two strings: <em>the quick brown fox jumps over the lazy dog</em> and <em>sick fox is crazy.</em></p>
<table class='super-collator super-collator-debug-matrix' id=super-collator-phase1><tr><th/><th class='top'></th><th class='top'>sick</th><th class='top'>fox</th><th class='top'>is</th><th class='top'>crazy</th></tr>
<tr><th class='left'></th><td class='outer prefilled'><table><tr><td class='d inner'>0.00</td><td class='p inner'>0.00</td></tr><tr><td class='q inner'>0.00</td><td class='inner arrow'>⏹</td></tr></table></td><td class='outer prefilled'><table><tr><td class='d inner'>-0.50</td><td class='p inner'>-0.50</td></tr><tr><td class='q inner em'>-0.50</td><td class='inner arrow'>←</td></tr></table></td><td class='outer prefilled'><table><tr><td class='d inner'>-0.70</td><td class='p inner'>-0.70</td></tr><tr><td class='q inner em'>-0.70</td><td class='inner arrow'>←</td></tr></table></td><td class='outer prefilled'><table><tr><td class='d inner'>-0.90</td><td class='p inner'>-0.90</td></tr><tr><td class='q inner em'>-0.90</td><td class='inner arrow'>←</td></tr></table></td><td class='outer prefilled'><table><tr><td class='d inner'>-1.10</td><td class='p inner'>-1.10</td></tr><tr><td class='q inner em'>-1.10</td><td class='inner arrow'>←</td></tr></table></td></tr>
<tr><th class='left'>the</th><td class='outer prefilled bt'><table><tr><td class='d inner'>-0.50</td><td class='p inner em'>-0.50</td></tr><tr><td class='q inner'>-0.50</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner em'>0.00</td><td class='p inner'>-0.70</td></tr><tr><td class='q inner'>-0.70</td><td class='inner arrow'>↖</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.50</td><td class='p inner'>-0.90</td></tr><tr><td class='q inner em'>-0.50</td><td class='inner arrow'>←</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.70</td><td class='p inner'>-1.10</td></tr><tr><td class='q inner em'>-0.70</td><td class='inner arrow'>←</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.90</td><td class='p inner'>-1.30</td></tr><tr><td class='q inner em'>-0.90</td><td class='inner arrow'>←</td></tr></table></td></tr>
<tr><th class='left'>quick</th><td class='outer prefilled'><table><tr><td class='d inner'>-0.70</td><td class='p inner em'>-0.70</td></tr><tr><td class='q inner'>-0.70</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer bt'><table><tr><td class='d inner em'>-0.04</td><td class='p inner'>-0.50</td></tr><tr><td class='q inner'>-0.90</td><td class='inner arrow'>↖</td></tr></table></td><td class='outer'><table><tr><td class='d inner em'>0.00</td><td class='p inner'>-1.00</td></tr><tr><td class='q inner'>-0.54</td><td class='inner arrow'>↖</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.50</td><td class='p inner'>-1.20</td></tr><tr><td class='q inner em'>-0.50</td><td class='inner arrow'>←</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.70</td><td class='p inner'>-1.40</td></tr><tr><td class='q inner em'>-0.70</td><td class='inner arrow'>←</td></tr></table></td></tr>
<tr><th class='left'>brown</th><td class='outer prefilled'><table><tr><td class='d inner'>-0.90</td><td class='p inner em'>-0.90</td></tr><tr><td class='q inner'>-0.90</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer bt'><table><tr><td class='d inner'>-0.70</td><td class='p inner em'>-0.54</td></tr><tr><td class='q inner'>-1.10</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner em'>-0.04</td><td class='p inner'>-0.50</td></tr><tr><td class='q inner'>-1.04</td><td class='inner arrow'>↖</td></tr></table></td><td class='outer'><table><tr><td class='d inner em'>0.00</td><td class='p inner'>-1.00</td></tr><tr><td class='q inner'>-0.54</td><td class='inner arrow'>↖</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.50</td><td class='p inner'>-1.20</td></tr><tr><td class='q inner em'>-0.50</td><td class='inner arrow'>←</td></tr></table></td></tr>
<tr><th class='left'>fox</th><td class='outer prefilled'><table><tr><td class='d inner'>-1.10</td><td class='p inner em'>-1.10</td></tr><tr><td class='q inner'>-1.10</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.90</td><td class='p inner em'>-0.74</td></tr><tr><td class='q inner'>-1.30</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer bt'><table><tr><td class='d inner em'>0.46</td><td class='p inner'>-0.54</td></tr><tr><td class='q inner'>-1.24</td><td class='inner arrow'>↖</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.04</td><td class='p inner'>-0.50</td></tr><tr><td class='q inner em'>-0.04</td><td class='inner arrow'>←</td></tr></table></td><td class='outer'><table><tr><td class='d inner em'>0.00</td><td class='p inner'>-1.00</td></tr><tr><td class='q inner'>-0.24</td><td class='inner arrow'>↖</td></tr></table></td></tr>
<tr><th class='left'>jumps</th><td class='outer prefilled'><table><tr><td class='d inner'>-1.30</td><td class='p inner em'>-1.30</td></tr><tr><td class='q inner'>-1.30</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-1.10</td><td class='p inner em'>-0.94</td></tr><tr><td class='q inner'>-1.50</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.74</td><td class='p inner em'>-0.04</td></tr><tr><td class='q inner'>-1.44</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer bt'><table><tr><td class='d inner em'>0.64</td><td class='p inner'>-0.54</td></tr><tr><td class='q inner'>-0.54</td><td class='inner arrow'>↖</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.04</td><td class='p inner'>-0.50</td></tr><tr><td class='q inner em'>0.14</td><td class='inner arrow'>←</td></tr></table></td></tr>
<tr><th class='left'>over</th><td class='outer prefilled'><table><tr><td class='d inner'>-1.50</td><td class='p inner em'>-1.50</td></tr><tr><td class='q inner'>-1.50</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-1.30</td><td class='p inner em'>-1.14</td></tr><tr><td class='q inner'>-1.70</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.94</td><td class='p inner em'>-0.24</td></tr><tr><td class='q inner'>-1.64</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer bt'><table><tr><td class='d inner'>-0.04</td><td class='p inner em'>0.14</td></tr><tr><td class='q inner'>-0.74</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner em'>0.64</td><td class='p inner'>-0.36</td></tr><tr><td class='q inner'>-0.36</td><td class='inner arrow'>↖</td></tr></table></td></tr>
<tr><th class='left'>the</th><td class='outer prefilled'><table><tr><td class='d inner'>-1.70</td><td class='p inner em'>-1.70</td></tr><tr><td class='q inner'>-1.70</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-1.50</td><td class='p inner em'>-1.34</td></tr><tr><td class='q inner'>-1.90</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-1.14</td><td class='p inner em'>-0.44</td></tr><tr><td class='q inner'>-1.84</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer bt'><table><tr><td class='d inner'>-0.24</td><td class='p inner em'>-0.06</td></tr><tr><td class='q inner'>-0.94</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>0.14</td><td class='p inner em'>0.14</td></tr><tr><td class='q inner'>-0.56</td><td class='inner arrow'>↑</td></tr></table></td></tr>
<tr><th class='left'>lazy</th><td class='outer prefilled'><table><tr><td class='d inner'>-1.90</td><td class='p inner em'>-1.90</td></tr><tr><td class='q inner'>-1.90</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-1.70</td><td class='p inner em'>-1.54</td></tr><tr><td class='q inner'>-2.10</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-1.34</td><td class='p inner em'>-0.64</td></tr><tr><td class='q inner'>-2.04</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.44</td><td class='p inner em'>-0.26</td></tr><tr><td class='q inner'>-1.14</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer bt'><table><tr><td class='d inner em'>0.40</td><td class='p inner'>-0.06</td></tr><tr><td class='q inner'>-0.76</td><td class='inner arrow'>↖</td></tr></table></td></tr>
<tr><th class='left'>dog</th><td class='outer prefilled'><table><tr><td class='d inner'>-2.10</td><td class='p inner em'>-2.10</td></tr><tr><td class='q inner'>-2.10</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-1.90</td><td class='p inner em'>-1.74</td></tr><tr><td class='q inner'>-2.30</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-1.54</td><td class='p inner em'>-0.84</td></tr><tr><td class='q inner'>-2.24</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.64</td><td class='p inner em'>-0.46</td></tr><tr><td class='q inner'>-1.34</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer bt'><table><tr><td class='d inner'>-0.26</td><td class='p inner em'>-0.10</td></tr><tr><td class='q inner'>-0.96</td><td class='inner arrow'>↑</td></tr></table></td></tr>
</table>

<p>Every cell in the table contains three values: <span class="math notranslate nohighlight">\(D\)</span>, <span class="math notranslate nohighlight">\(P\)</span>, and <span class="math notranslate nohighlight">\(Q\)</span>, and an arrow, like this:</p>
<table class='super-collator super-collator-debug-matrix' style="margin-left: auto; margin-right: auto">
<tr><td class='outer'>
<table>
  <tr><td class='d inner'>D</td><td class='p inner'>P</td></tr>
  <tr><td class='q inner'>Q</td><td class='inner arrow'>↖</td></tr>
</table>
</td>
</tr>
</table><p>We define the score <span class="math notranslate nohighlight">\(S\)</span> for each cell as:</p>
<div class="math notranslate nohighlight">
\[S = \max(D, P, Q)\]</div>
<p>The grayed cells in the first row and first column are initialized using the <em>gap start</em>
and <em>gap extension</em> penalties.  The numbers for each remaining cell are calculated using
only values from the three cells, to the top-left, the top, and the left, of the current
cell:</p>
<div class="math notranslate nohighlight">
\[D = S_↖ + \mbox{similarity}(word_←, word_↑)\]</div>
<div class="math notranslate nohighlight">
\[P = \max(S_↑ + openingpenalty, P_↑ + extensionpenalty)\]</div>
<div class="math notranslate nohighlight">
\[Q = \max(S_← + openingpenalty, Q_← + extensionpenalty)\]</div>
<p>Finally the arrow in the current cell is set to point to that cell which yielded the
highest of the current cell’s <span class="math notranslate nohighlight">\(D\)</span>, <span class="math notranslate nohighlight">\(P\)</span>, and <span class="math notranslate nohighlight">\(Q\)</span> values.</p>
</section>
<section id="phase-2-backtrack">
<h3>Phase 2 - Backtrack<a class="headerlink" href="#phase-2-backtrack" title="Permalink to this heading">¶</a></h3>
<p>When the table is thus completed, two empty sequences are created.  Then the algorithm
starts backtracking from the last (bottom-right) cell following the arrows until it
reaches the first (top-left) cell.  If the arrow points:</p>
<dl class="simple">
<dt>↑</dt><dd><p>the word in the row header is added to the first sequence, a hyphen is added to the
second sequence,</p>
</dd>
<dt>↖</dt><dd><p>the word in the row header is added to the first sequence, the word in the column
header is added to the second sequence,</p>
</dd>
<dt>←</dt><dd><p>a hyphen is added to the first sequence, the word in the column header is added to the
second sequence.</p>
</dd>
</dl>
<table class='super-collator super-collator-debug-matrix' id=super-collator-phase2><tr><th/><th class='top'></th><th class='top'>sick</th><th class='top'>fox</th><th class='top'>is</th><th class='top'>crazy</th></tr>
<tr><th class='left'></th><td class='outer prefilled'><table><tr><td class='d inner'>0.00</td><td class='p inner'>0.00</td></tr><tr><td class='q inner'>0.00</td><td class='inner arrow'>⏹</td></tr></table></td><td class='outer prefilled'><table><tr><td class='d inner'>-0.50</td><td class='p inner'>-0.50</td></tr><tr><td class='q inner em'>-0.50</td><td class='inner arrow'>←</td></tr></table></td><td class='outer prefilled'><table><tr><td class='d inner'>-0.70</td><td class='p inner'>-0.70</td></tr><tr><td class='q inner em'>-0.70</td><td class='inner arrow'>←</td></tr></table></td><td class='outer prefilled'><table><tr><td class='d inner'>-0.90</td><td class='p inner'>-0.90</td></tr><tr><td class='q inner em'>-0.90</td><td class='inner arrow'>←</td></tr></table></td><td class='outer prefilled'><table><tr><td class='d inner'>-1.10</td><td class='p inner'>-1.10</td></tr><tr><td class='q inner em'>-1.10</td><td class='inner arrow'>←</td></tr></table></td></tr>
<tr><th class='left'>the</th><td class='outer prefilled bt'><table><tr><td class='d inner'>-0.50</td><td class='p inner em'>-0.50</td></tr><tr><td class='q inner'>-0.50</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner em'>0.00</td><td class='p inner'>-0.70</td></tr><tr><td class='q inner'>-0.70</td><td class='inner arrow'>↖</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.50</td><td class='p inner'>-0.90</td></tr><tr><td class='q inner em'>-0.50</td><td class='inner arrow'>←</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.70</td><td class='p inner'>-1.10</td></tr><tr><td class='q inner em'>-0.70</td><td class='inner arrow'>←</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.90</td><td class='p inner'>-1.30</td></tr><tr><td class='q inner em'>-0.90</td><td class='inner arrow'>←</td></tr></table></td></tr>
<tr><th class='left'>quick</th><td class='outer prefilled'><table><tr><td class='d inner'>-0.70</td><td class='p inner em'>-0.70</td></tr><tr><td class='q inner'>-0.70</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer bt'><table><tr><td class='d inner em'>-0.04</td><td class='p inner'>-0.50</td></tr><tr><td class='q inner'>-0.90</td><td class='inner arrow'>↖</td></tr></table></td><td class='outer'><table><tr><td class='d inner em'>0.00</td><td class='p inner'>-1.00</td></tr><tr><td class='q inner'>-0.54</td><td class='inner arrow'>↖</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.50</td><td class='p inner'>-1.20</td></tr><tr><td class='q inner em'>-0.50</td><td class='inner arrow'>←</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.70</td><td class='p inner'>-1.40</td></tr><tr><td class='q inner em'>-0.70</td><td class='inner arrow'>←</td></tr></table></td></tr>
<tr><th class='left'>brown</th><td class='outer prefilled'><table><tr><td class='d inner'>-0.90</td><td class='p inner em'>-0.90</td></tr><tr><td class='q inner'>-0.90</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer bt'><table><tr><td class='d inner'>-0.70</td><td class='p inner em'>-0.54</td></tr><tr><td class='q inner'>-1.10</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner em'>-0.04</td><td class='p inner'>-0.50</td></tr><tr><td class='q inner'>-1.04</td><td class='inner arrow'>↖</td></tr></table></td><td class='outer'><table><tr><td class='d inner em'>0.00</td><td class='p inner'>-1.00</td></tr><tr><td class='q inner'>-0.54</td><td class='inner arrow'>↖</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.50</td><td class='p inner'>-1.20</td></tr><tr><td class='q inner em'>-0.50</td><td class='inner arrow'>←</td></tr></table></td></tr>
<tr><th class='left'>fox</th><td class='outer prefilled'><table><tr><td class='d inner'>-1.10</td><td class='p inner em'>-1.10</td></tr><tr><td class='q inner'>-1.10</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.90</td><td class='p inner em'>-0.74</td></tr><tr><td class='q inner'>-1.30</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer bt'><table><tr><td class='d inner em'>0.46</td><td class='p inner'>-0.54</td></tr><tr><td class='q inner'>-1.24</td><td class='inner arrow'>↖</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.04</td><td class='p inner'>-0.50</td></tr><tr><td class='q inner em'>-0.04</td><td class='inner arrow'>←</td></tr></table></td><td class='outer'><table><tr><td class='d inner em'>0.00</td><td class='p inner'>-1.00</td></tr><tr><td class='q inner'>-0.24</td><td class='inner arrow'>↖</td></tr></table></td></tr>
<tr><th class='left'>jumps</th><td class='outer prefilled'><table><tr><td class='d inner'>-1.30</td><td class='p inner em'>-1.30</td></tr><tr><td class='q inner'>-1.30</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-1.10</td><td class='p inner em'>-0.94</td></tr><tr><td class='q inner'>-1.50</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.74</td><td class='p inner em'>-0.04</td></tr><tr><td class='q inner'>-1.44</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer bt'><table><tr><td class='d inner em'>0.64</td><td class='p inner'>-0.54</td></tr><tr><td class='q inner'>-0.54</td><td class='inner arrow'>↖</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.04</td><td class='p inner'>-0.50</td></tr><tr><td class='q inner em'>0.14</td><td class='inner arrow'>←</td></tr></table></td></tr>
<tr><th class='left'>over</th><td class='outer prefilled'><table><tr><td class='d inner'>-1.50</td><td class='p inner em'>-1.50</td></tr><tr><td class='q inner'>-1.50</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-1.30</td><td class='p inner em'>-1.14</td></tr><tr><td class='q inner'>-1.70</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.94</td><td class='p inner em'>-0.24</td></tr><tr><td class='q inner'>-1.64</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer bt'><table><tr><td class='d inner'>-0.04</td><td class='p inner em'>0.14</td></tr><tr><td class='q inner'>-0.74</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner em'>0.64</td><td class='p inner'>-0.36</td></tr><tr><td class='q inner'>-0.36</td><td class='inner arrow'>↖</td></tr></table></td></tr>
<tr><th class='left'>the</th><td class='outer prefilled'><table><tr><td class='d inner'>-1.70</td><td class='p inner em'>-1.70</td></tr><tr><td class='q inner'>-1.70</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-1.50</td><td class='p inner em'>-1.34</td></tr><tr><td class='q inner'>-1.90</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-1.14</td><td class='p inner em'>-0.44</td></tr><tr><td class='q inner'>-1.84</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer bt'><table><tr><td class='d inner'>-0.24</td><td class='p inner em'>-0.06</td></tr><tr><td class='q inner'>-0.94</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>0.14</td><td class='p inner em'>0.14</td></tr><tr><td class='q inner'>-0.56</td><td class='inner arrow'>↑</td></tr></table></td></tr>
<tr><th class='left'>lazy</th><td class='outer prefilled'><table><tr><td class='d inner'>-1.90</td><td class='p inner em'>-1.90</td></tr><tr><td class='q inner'>-1.90</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-1.70</td><td class='p inner em'>-1.54</td></tr><tr><td class='q inner'>-2.10</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-1.34</td><td class='p inner em'>-0.64</td></tr><tr><td class='q inner'>-2.04</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.44</td><td class='p inner em'>-0.26</td></tr><tr><td class='q inner'>-1.14</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer bt'><table><tr><td class='d inner em'>0.40</td><td class='p inner'>-0.06</td></tr><tr><td class='q inner'>-0.76</td><td class='inner arrow'>↖</td></tr></table></td></tr>
<tr><th class='left'>dog</th><td class='outer prefilled'><table><tr><td class='d inner'>-2.10</td><td class='p inner em'>-2.10</td></tr><tr><td class='q inner'>-2.10</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-1.90</td><td class='p inner em'>-1.74</td></tr><tr><td class='q inner'>-2.30</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-1.54</td><td class='p inner em'>-0.84</td></tr><tr><td class='q inner'>-2.24</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer'><table><tr><td class='d inner'>-0.64</td><td class='p inner em'>-0.46</td></tr><tr><td class='q inner'>-1.34</td><td class='inner arrow'>↑</td></tr></table></td><td class='outer bt'><table><tr><td class='d inner'>-0.26</td><td class='p inner em'>-0.10</td></tr><tr><td class='q inner'>-0.96</td><td class='inner arrow'>↑</td></tr></table></td></tr>
</table>

<p>Finally the two sequences are reversed and printed.</p>
<table class='super-collator super-collator-result' id=super-collator-result><tr><td>the</td><td>quick</td><td>brown</td><td>fox</td><td>jumps</td><td>over</td><td>the</td><td>lazy</td><td>dog</td></tr>
<tr><td>-</td><td>sick</td><td>-</td><td>fox</td><td>is</td><td>-</td><td>-</td><td>crazy</td><td>-</td></tr>
</table>

</section>
<section id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading">¶</a></h3>
<p>The algorithm can be customized by setting:</p>
<ul class="simple">
<li><p>a word comparison (similarity) function,</p></li>
<li><p>the starting gap penalty,</p></li>
<li><p>the gap opening penalty,</p></li>
<li><p>and the gap extension penalty.</p></li>
</ul>
</section>
</section>
<section id="word-comparison-function">
<h2>Word Comparison Function<a class="headerlink" href="#word-comparison-function" title="Permalink to this heading">¶</a></h2>
<p>The word comparison function returns a similarity value between 0 and 1, 0 being totally
different and 1 being completely equal.  The chosen function is not critical to the
functioning of the aligner.  The similarity should increase with the desirability of the
alignment, but otherwise there are no fixed rules.</p>
<p>In the current implementation the similarity is calculated as follows:</p>
<p>All words in the input texts are split into sets of trigrams (sometimes called
3-shingles).  The trigrams are obtained by first prefixing and suffixing the word with
two spaces respectively, then cutting the resulting string into all possible strings of
length 3.  This means that all trigrams partially overlap each other.</p>
<p>To calculate the similarity between two words three sets are built: the set of
trigrams in word a, the set of trigrams in word b, and the set of trigrams
common to both words.  The similarity is then given by the formula:</p>
<div class="math notranslate nohighlight">
\[\mbox{similarity}(a,b)= \frac{2|set_{a} \cap set_{b}|}{|set_a| + |set_b|}\]</div>
<p>The factor of 2 was added to bring the similarity of identical words to 1.</p>
<p>This is sometimes called the
<a class="reference external" href="https://en.wikipedia.org/wiki/S%C3%B8rensen%E2%80%93Dice_coefficient">Sørensen–Dice coefficient</a>.</p>
<p>An example calculation follows:</p>
<figure id="id5">
<div  class="pic pic-format-text-xml pic-language-trigram">


<!-- Creator: dpic version 2023.06.01 option -v for SVG 1.1 -->
<!-- width="698" height="297" -->
<svg
 xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
 xml:space="preserve"
 style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision;
 image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
 width="697.2px" height="296.133333px"
 viewBox="0 0 697.2 296.133333"
 font-size="11pt" text-anchor="middle"
 stroke="black" stroke-miterlimit="10" stroke-width="1.066667" fill="none">
<g>
<rect stroke-width="2"
 x="2" y="54.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="30.8" y="74.106667">⎵⎵h</text>
<rect stroke-width="2"
 x="59.6" y="54.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="88.4" y="74.106667">⎵hl</text>
<rect stroke-width="2"
 x="117.2" y="54.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="146" y="74.106667">hlo</text>
<rect stroke-width="2"
 x="174.8" y="54.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="203.6" y="74.106667">lod</text>
<rect stroke-width="2"
 x="232.4" y="54.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="261.2" y="74.106667">odo</text>
<rect fill="#fefece" stroke-width="2"
 stroke="#a80136"
 x="290" y="54.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="318.8" y="74.106667">dou</text>
<rect stroke-width="2"
 x="347.6" y="54.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="376.4" y="74.106667">ouu</text>
<rect stroke-width="2"
 x="405.2" y="54.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="434" y="74.106667">uui</text>
<rect fill="#fefece" stroke-width="2"
 stroke="#a80136"
 x="462.8" y="54.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="491.6" y="74.106667">uic</text>
<rect fill="#fefece" stroke-width="2"
 stroke="#a80136"
 x="520.4" y="54.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="549.2" y="74.106667">ico</text>
<rect fill="#fefece" stroke-width="2"
 stroke="#a80136"
 x="578" y="54.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="606.8" y="74.106667">co⎵</text>
<rect fill="#fefece" stroke-width="2"
 stroke="#a80136"
 x="635.6" y="54.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="664.4" y="74.106667">o⎵⎵</text>
<rect stroke-width="2"
 x="59.6" y="150.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="88.4" y="170.106667">⎵⎵l</text>
<rect stroke-width="2"
 x="117.2" y="150.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="146" y="170.106667">⎵lu</text>
<rect stroke-width="2"
 x="174.8" y="150.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="203.6" y="170.106667">lud</text>
<rect stroke-width="2"
 x="232.4" y="150.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="261.2" y="170.106667">udo</text>
<rect fill="#fefece" stroke-width="2"
 stroke="#a80136"
 x="290" y="150.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="318.8" y="170.106667">dou</text>
<rect stroke-width="2"
 x="347.6" y="150.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="376.4" y="170.106667">oui</text>
<rect fill="#fefece" stroke-width="2"
 stroke="#a80136"
 x="405.2" y="150.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="434" y="170.106667">uic</text>
<rect fill="#fefece" stroke-width="2"
 stroke="#a80136"
 x="462.8" y="150.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="491.6" y="170.106667">ico</text>
<rect fill="#fefece" stroke-width="2"
 stroke="#a80136"
 x="520.4" y="150.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="549.2" y="170.106667">co⎵</text>
<rect fill="#fefece" stroke-width="2"
 stroke="#a80136"
 x="578" y="150.866667" width="57.6" height="28.8" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="606.8" y="170.106667">o⎵⎵</text>
<text font-size="24.242424pt" stroke-width="0.266667"
 fill="black"
 x="347.6" y="22.333333">hlodouuico</text>
<text font-size="24.242424pt" stroke-width="0.266667"
 fill="black"
 x="347.6" y="233.533333">ludouico</text>
<text font-size="24.242424pt" stroke-width="0.266667"
 fill="black"
 x="347.6" y="291.133333">Similarity: 2 * 5 / (12 + 10) = 0.454545</text>
<line stroke-width="2"
 stroke="#a80136"
 x1="318.8" y1="83.666667" x2="318.8" y2="150.866667" />
<line stroke-width="2"
 stroke="#a80136"
 x1="491.6" y1="83.666667" x2="434" y2="150.866667" />
<line stroke-width="2"
 stroke="#a80136"
 x1="549.2" y1="83.666667" x2="491.6" y2="150.866667" />
<line stroke-width="2"
 stroke="#a80136"
 x1="606.8" y1="83.666667" x2="549.2" y2="150.866667" />
<line stroke-width="2"
 stroke="#a80136"
 x1="664.4" y1="83.666667" x2="606.8" y2="150.866667" />
</g></svg>
</div>
<figcaption>
<p><span class="caption-text">Calculating similarity using trigrams</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The similarity based on trigrams was chosen because its calculation can be done in
<span class="math notranslate nohighlight">\(\mathcal{O}(n)\)</span> time whereas a similarity based on Levenshtein distance needs
<span class="math notranslate nohighlight">\(\mathcal{O}(n^2)\)</span> time.  The sets of trigrams for each input word are calculated
only once and if you presort the trigrams in these sets (to be implemented), the common
set can be found in <span class="math notranslate nohighlight">\(\mathcal{O}(n)\)</span> time.</p>
<p>Optimizations yet to be implemented: in a first step gather all trigrams in all
input texts, give each one an integer id, and later operate on the ids only.
Maybe hash each trigram onto a value 0..63 and build a bitmask for each word,
later operate on the masks only.</p>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading">¶</a></h2>
<div role="list" class="citation-list">
<div class="citation" id="gotoh1982" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">Gotoh1982</a><span class="fn-bracket">]</span></span>
<p>Gotoh, O. 1982,  <em>An Improved Algorithm for Matching Biological
Sequences,</em> J. Mol. Biol. 162, 705-708
<a class="reference external" href="http://jaligner.sourceforge.net/references/gotoh1982.pdf">http://jaligner.sourceforge.net/references/gotoh1982.pdf</a></p>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="html_generation.html" class="btn btn-neutral float-left" title="HTML Generation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="meta_search.html" class="btn btn-neutral float-right" title="Meta Search" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018-23 CCeH - Licensed under the GNU GPL v3 or later.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>