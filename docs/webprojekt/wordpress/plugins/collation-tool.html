

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Collation Tool &mdash; Capitularia 0.1.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/my_theme.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Meta Search" href="meta-search.html" />
    <link rel="prev" title="Wordpress Plugins" href="../plugins.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Capitularia
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../intro.html#platforms">Platforms</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../overviews.html">Overviews</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../overviews/html_generation.html">HTML Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/html_generation.html#xslt-transformations">XSLT Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/html_generation.html#user-delivery">User Delivery</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../overviews/collation_tool.html">Overview of the Collation Tool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/collation_tool.html#pre-processing-of-the-tei-files">Pre-Processing of the TEI files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/collation_tool.html#collation">Collation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/collation_tool.html#custom-version-of-collatex">Custom Version of CollateX</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../overviews/meta_search.html">Meta Search</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/meta_search.html#metadata-extraction">Metadata Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/meta_search.html#fulltext-extraction">Fulltext Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/meta_search.html#search">Search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../overviews/collections.html">Collections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/collections.html#algorithm">Algorithm</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../webprojekt.html">RRZK Web Projekt Capitularia</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../wordpress.html">Wordpress Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../database.html">Wordpress Database Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../database.html#metadata">Metadata</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../../wordpress-custom.html">Wordpress Customizations</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../theme.html">Wordpress Theme</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../plugins.html">Wordpress Plugins</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../vm.html">Capitularia VM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../vm/app_server.html">Application Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/app_server.html#server">server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/app_server.html#module-data_server">data_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/app_server.html#module-collatex_server">collatex_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/app_server.html#module-geo_server">geo_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/app_server.html#module-tile_server">tile_server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../vm/database.html">Database Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/database.html#schema-capitularia">Schema <em>capitularia:</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/database.html#schema-gis">Schema <em>gis:</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/database.html#module-db">db.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../vm/transformations.html">XSLT Transformations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/transformations.html#capitulary-pages">Capitulary Pages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/transformations.html#lists-of-capitularies">Lists of Capitularies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/transformations.html#manuscript-pages">Manuscript Pages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/transformations.html#lists-of-manuscripts">Lists of Manuscripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/transformations.html#lists-of-resources">Lists of Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/transformations.html#other">Other</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Capitularia</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../webprojekt.html">RRZK Web Projekt Capitularia</a> &raquo;</li>
        
          <li><a href="../../wordpress-custom.html">Wordpress Customizations</a> &raquo;</li>
        
          <li><a href="../plugins.html">Wordpress Plugins</a> &raquo;</li>
        
      <li>Collation Tool</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/webprojekt/wordpress/plugins/collation-tool.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="collation-tool">
<span id="id1"></span><h1>Collation Tool<a class="headerlink" href="#collation-tool" title="Permalink to this headline">Â¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#plugins-cap-collation-user-cap-collation-user-php" id="id2">plugins/cap-collation-user/cap-collation-user.php</a></p></li>
<li><p><a class="reference internal" href="#plugins-cap-collation-user-dashboard-php" id="id3">plugins/cap-collation-user/dashboard.php</a></p></li>
<li><p><a class="reference internal" href="#plugins-cap-collation-user-functions-php" id="id4">plugins/cap-collation-user/functions.php</a></p></li>
<li><p><a class="reference internal" href="#plugins-collation-front" id="id5">plugins/collation/front</a></p></li>
<li><p><a class="reference internal" href="#plugins-collation-results" id="id6">plugins/collation/results</a></p></li>
<li><p><a class="reference internal" href="#plugins-collation-tools" id="id7">plugins/collation/tools</a></p></li>
</ul>
</div>
<span class="target" id="module-plugins.cap-collation-user.cap-collation-user"></span><div class="section" id="plugins-cap-collation-user-cap-collation-user-php">
<h2><a class="toc-backref" href="#id2">plugins/cap-collation-user/cap-collation-user.php</a><a class="headerlink" href="#plugins-cap-collation-user-cap-collation-user-php" title="Permalink to this headline">Â¶</a></h2>
<p>Capitularia Collation Tool plugin.</p>
<p>The <em>Collation Tool plugin</em> lets any member of the general public do
collations of different versions of the same chapter from different
manuscripts.</p>
<p>This plugin provides a dashboard where the user can request collations of
sections of manuscripts.  The dashboard is implemented in javascript with
Vue.js.  The PHP code of this plugin basically only serves the Javascript
code to the user.</p>
<p>The actual collation is done on the Capitularia API Server with a customized
version of CollateX for Java.</p>
<p>A big Makefile, run by cron on the API server, uses XSLT and Saxon to extract
the relevant sections from the TEI files and pre-processes them for
collation.  In the end all TEI tags are removed and only the normalized text
is stored into the Postgres database.  On an incoming collation request the
API server reads the pre-processed texts from the database and sends them to
CollateX.</p>
<p>See: <a class="reference internal" href="../../../vm/app_server.html#module-collatex_server" title="collatex_server"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collatex_server</span></code></a>, <a class="reference internal" href="../../../overviews/collation_tool.html#collation-tool-overview"><span class="std std-ref">collation overview</span></a>.</p>
<span class="target" id="namespace-cceh\capitularia\collation_user"></span><dl class="const">
<dt id="cceh\capitularia\collation_user\NAME">
<em class="property">constant </em><code class="sig-name descname">NAME</code><a class="headerlink" href="#cceh\capitularia\collation_user\NAME" title="Permalink to this definition">Â¶</a></dt>
<dd><p>âCapitularia Collation Toolâ</p>
<p>The name of the plugin.</p>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\collation_user"></span><dl class="const">
<dt id="cceh\capitularia\collation_user\LANG">
<em class="property">constant </em><code class="sig-name descname">LANG</code><a class="headerlink" href="#cceh\capitularia\collation_user\LANG" title="Permalink to this definition">Â¶</a></dt>
<dd><p>âcap-collation-userâ</p>
<p>The Text Domain of the plugin.</p>
</dd></dl>

<span class="target" id="module-plugins.cap-collation-user.dashboard"></span></div>
<div class="section" id="plugins-cap-collation-user-dashboard-php">
<h2><a class="toc-backref" href="#id3">plugins/cap-collation-user/dashboard.php</a><a class="headerlink" href="#plugins-cap-collation-user-dashboard-php" title="Permalink to this headline">Â¶</a></h2>
<p>Capitularia Collation Dashboard Page</p>
<span class="target" id="namespace-cceh\capitularia\collation_user"></span><dl class="function">
<dt id="cceh\capitularia\collation_user\dashboard_page">
<code class="sig-name descname">dashboard_page</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\collation_user\dashboard_page" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build the dashboard page.</p>
<p>This page uses vue.js to manipulate its content.  Vue.js then retrieves
further content by AJAX.  We use a this template instead of a vue.js template
because it makes translation easier.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The HTML of the dashboard page.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-plugins.cap-collation-user.functions"></span></div>
<div class="section" id="plugins-cap-collation-user-functions-php">
<h2><a class="toc-backref" href="#id4">plugins/cap-collation-user/functions.php</a><a class="headerlink" href="#plugins-cap-collation-user-functions-php" title="Permalink to this headline">Â¶</a></h2>
<p>Capitularia Collation Tool global functions.</p>
<span class="target" id="namespace-cceh\capitularia\collation_user"></span><dl class="function">
<dt id="cceh\capitularia\collation_user\ns">
<code class="sig-name descname">ns</code><span class="sig-paren">(</span><em class="sig-param">$function_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\collation_user\ns" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Add current namespace</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$function_name</strong> (<em>string</em>) â The class or function name without namespace</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The name with namespace</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\collation_user"></span><dl class="function">
<dt id="cceh\capitularia\collation_user\on_enqueue_scripts">
<code class="sig-name descname">on_enqueue_scripts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\collation_user\on_enqueue_scripts" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Enqueue the front page scripts and styles</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>void</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\collation_user"></span><dl class="function">
<dt id="cceh\capitularia\collation_user\on_shortcode">
<code class="sig-name descname">on_shortcode</code><span class="sig-paren">(</span><em class="sig-param">$dummy_atts</em>, <em class="sig-param">$dummy_content</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\collation_user\on_shortcode" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Replace the shortcode with the collation dashboard code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$dummy_atts</strong> (<em>array</em>) â (unused) The shortcode attributes</p></li>
<li><p><strong>$dummy_content</strong> (<em>array</em>) â (unused) The shortcode content (should be empty)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The collation dashboard page as HTML.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

</div>
<span class="target" id="module-plugins/collation/front"></span><div class="section" id="plugins-collation-front">
<h2><a class="toc-backref" href="#id5">plugins/collation/front</a><a class="headerlink" href="#plugins-collation-front" title="Permalink to this headline">Â¶</a></h2>
<p>File: plugins/cap-collation-user/src/js/front.js</p>
<p>We use webpack as a workaround to load javascript modules in Wordpress. Wordpress cannot load javascript modules thru enqueue_script () because it lacks an option to specify type=âmoduleâ on the &lt;script&gt; element. Webpack also packs babel-runtime for us. babel-runtime is required for async functions.</p>
<dl class="class">
<dt id="plugins/collation/front.VueFront">
<em class="property">class </em><code class="sig-prename descclassname">plugins/collation/front.</code><code class="sig-name descname">VueFront</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/front.VueFront" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The vue.js instance that manages the whole page.</p>
<dl class="function">
<dt id="plugins/collation/front.VueFront.ajax_params">
<code class="sig-prename descclassname">VueFront.</code><code class="sig-name descname">ajax_params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/front.VueFront.ajax_params" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bundle all parameters for collate () and on_save_config ().</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The parameters for the collate REST API call.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/front.VueFront.ajax_load_bks">
<code class="sig-prename descclassname">VueFront.</code><code class="sig-name descname">ajax_load_bks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/front.VueFront.ajax_load_bks" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Load the bk dropdown. Called once during setup.</p>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/front.VueFront.ajax_load_corresps">
<code class="sig-prename descclassname">VueFront.</code><code class="sig-name descname">ajax_load_corresps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/front.VueFront.ajax_load_corresps" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Load the corresps dropdown. Called if bk changes.</p>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/front.VueFront.ajax_load_witnesses">
<code class="sig-prename descclassname">VueFront.</code><code class="sig-name descname">ajax_load_witnesses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/front.VueFront.ajax_load_witnesses" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Load the witnesses table. Called if corresps changes.</p>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/front.VueFront.load_witnesses_carry_selection">
<code class="sig-prename descclassname">VueFront.</code><code class="sig-name descname">load_witnesses_carry_selection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/front.VueFront.load_witnesses_carry_selection" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reload the witnesses table while keeping selected items intact (if possible).</p>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/front.VueFront.check_all">
<code class="sig-prename descclassname">VueFront.</code><code class="sig-name descname">check_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/front.VueFront.check_all" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Check or uncheck all witnesses.</p>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/front.VueFront.check_these">
<code class="sig-prename descclassname">VueFront.</code><code class="sig-name descname">check_these</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/front.VueFront.check_these" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Check all witnesses in list but donât uncheck any.</p>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/front.VueFront.sort_like">
<code class="sig-prename descclassname">VueFront.</code><code class="sig-name descname">sort_like</code><span class="sig-paren">(</span><em class="sig-param">sigla</em><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/front.VueFront.sort_like" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sort the witnesses in the list to the top of the table.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigla</strong> â List of sigla of the witnesses</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/front.VueFront.row_class">
<code class="sig-prename descclassname">VueFront.</code><code class="sig-name descname">row_class</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/front.VueFront.row_class" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The class(es) to apply to the witnesses table rows.</p>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/front.VueFront.on_load_config">
<code class="sig-prename descclassname">VueFront.</code><code class="sig-name descname">on_load_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/front.VueFront.on_load_config" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Load configuration from a user-local file. Called from the file dialog ok button.</p>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/front.VueFront.on_load_config_redirect">
<code class="sig-prename descclassname">VueFront.</code><code class="sig-name descname">on_load_config_redirect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/front.VueFront.on_load_config_redirect" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Redirect click so we can use a normal bootstrap button. The button type=file is not styleable.</p>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/front.VueFront.on_save_config">
<code class="sig-prename descclassname">VueFront.</code><code class="sig-name descname">on_save_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/front.VueFront.on_save_config" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Save parameters to a user-local file. Initialize a hidden &lt;a&gt; with a download link and fake a click on it.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-plugins/collation/results"></span></div>
<div class="section" id="plugins-collation-results">
<h2><a class="toc-backref" href="#id6">plugins/collation/results</a><a class="headerlink" href="#plugins-collation-results" title="Permalink to this headline">Â¶</a></h2>
<p>File: plugins/cap-collation-user/src/js/results.js</p>
<dl class="class">
<dt id="plugins/collation/results.VueResults">
<em class="property">class </em><code class="sig-prename descclassname">plugins/collation/results.</code><code class="sig-name descname">VueResults</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/results.VueResults" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The vue.js instance that manages the collation output table.</p>
<dl class="function">
<dt id="plugins/collation/results.VueResults.transpose">
<code class="sig-prename descclassname">VueResults.</code><code class="sig-name descname">transpose</code><span class="sig-paren">(</span><em class="sig-param">matrix</em><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/results.VueResults.transpose" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Transpose a table returned by CollateX Turn rows into columns and vice versa.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> (<em>array</em>) â The CollateX table</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The transposed table</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/results.VueResults.cell_width">
<code class="sig-prename descclassname">VueResults.</code><code class="sig-name descname">cell_width</code><span class="sig-paren">(</span><em class="sig-param">cell</em><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/results.VueResults.cell_width" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Calculate the cell width in characters</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cell</strong> (<em>array</em>) â The array of tokens in the cell</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The width in characters</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>integer</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/results.VueResults.split_table">
<code class="sig-prename descclassname">VueResults.</code><code class="sig-name descname">split_table</code><span class="sig-paren">(</span><em class="sig-param">table</em>, <em class="sig-param">max_width</em><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/results.VueResults.split_table" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Split a table in columns every n characters</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table</strong> (<em>array</em>) â The table to split</p></li>
<li><p><strong>max_width</strong> (<em>integer</em>) â Split after this many characters</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An array of tables</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/results.VueResults.format_table">
<code class="sig-prename descclassname">VueResults.</code><code class="sig-name descname">format_table</code><span class="sig-paren">(</span><em class="sig-param">sigla</em>, <em class="sig-param">table</em>, <em class="sig-param">order</em><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/results.VueResults.format_table" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Format a CollateX table into HTML The Collate-X response: .. code:: json { âwitnessesâ:[âAâ,âBâ], âtableâ:[ [ [ {âtâ:âAâ,ârefâ:123 } ], [ {âtâ:âAâ } ] ], [ [ {âtâ:âblackâ,âadjâ:true } ], [ {âtâ:âwhiteâ,âadjâ:true } ] ], [ [ {âtâ:âcatâ,âidâ:âxyzâ } ], [ {âtâ:âkitten.â,ânâ:âcatâ } ] ] ] }</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigla</strong> (<em>Array.&lt;string&gt;</em>) â The witnessesâ sigla in table order</p></li>
<li><p><strong>table</strong> (<em>array</em>) â The collation table in column-major orientation</p></li>
<li><p><strong>order</strong> (<em>Array.&lt;string&gt;</em>) â The witnessesâ sigla in the order they should be displayed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The rows of the formatted table</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Object</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-plugins/collation/tools"></span></div>
<div class="section" id="plugins-collation-tools">
<h2><a class="toc-backref" href="#id7">plugins/collation/tools</a><a class="headerlink" href="#plugins-collation-tools" title="Permalink to this headline">Â¶</a></h2>
<p>File: plugins/cap-collation-user/src/js/tools.js</p>
<p>Contains utility functions for the collation applet.</p>
<dl class="data">
<dt id="plugins/collation/tools.bk_id">
<code class="sig-prename descclassname">plugins/collation/tools.</code><code class="sig-name descname">bk_id</code><a class="headerlink" href="#plugins/collation/tools.bk_id" title="Permalink to this definition">Â¶</a></dt>
<dd><p>(string)
The id of the âObertextâ.</p>
</dd></dl>

<dl class="data">
<dt id="plugins/collation/tools.cap_collation_algorithms">
<code class="sig-prename descclassname">plugins/collation/tools.</code><code class="sig-name descname">cap_collation_algorithms</code><a class="headerlink" href="#plugins/collation/tools.cap_collation_algorithms" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The collation algorithms we support. The Needleman-Wunsch-Gotoh algorithm is available only with our special patched version of CollateX.</p>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/tools.api">
<code class="sig-prename descclassname">plugins/collation/tools.</code><code class="sig-name descname">api</code><span class="sig-paren">(</span><em class="sig-param">url</em>, <em class="sig-param">data</em><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/tools.api" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This calls the API on the API server</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>string</em>) â The endpoint relative to the API root.</p></li>
<li><p><strong>data</strong> (<em>Object</em>) â The data to send.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Promise resolved when call completed.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Promise</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/tools.get_api_entrypoint">
<code class="sig-prename descclassname">plugins/collation/tools.</code><code class="sig-name descname">get_api_entrypoint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/tools.get_api_entrypoint" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get the API entrypoint</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The root URL of the API server.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/tools.encodeRFC5987ValueChars">
<code class="sig-prename descclassname">plugins/collation/tools.</code><code class="sig-name descname">encodeRFC5987ValueChars</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/tools.encodeRFC5987ValueChars" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Build a valid filename to save the config.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>str</strong> (<em>string</em>) â The string to encode.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The encoded string.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/tools.sort_key">
<code class="sig-prename descclassname">plugins/collation/tools.</code><code class="sig-name descname">sort_key</code><span class="sig-paren">(</span><em class="sig-param">s</em><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/tools.sort_key" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A key that sorts numbers right</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>string</em>) â Any string.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A key derived from the string that sorts numbers right.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/tools.fix_witness">
<code class="sig-prename descclassname">plugins/collation/tools.</code><code class="sig-name descname">fix_witness</code><span class="sig-paren">(</span><em class="sig-param">w</em><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/tools.fix_witness" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Prepare a witness for display, add human-readable title, i18n.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>w</strong> (<em>Object</em>) â The witness to fix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The fixed witness object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/tools.parse_witness_response">
<code class="sig-prename descclassname">plugins/collation/tools.</code><code class="sig-name descname">parse_witness_response</code><span class="sig-paren">(</span><em class="sig-param">r</em><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/tools.parse_witness_response" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Parse API server response into witness object</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<em>Object</em>) â The server response</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The witness struct</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="plugins/collation/tools.parse_siglum">
<code class="sig-prename descclassname">plugins/collation/tools.</code><code class="sig-name descname">parse_siglum</code><span class="sig-paren">(</span><em class="sig-param">siglum</em><span class="sig-paren">)</span><a class="headerlink" href="#plugins/collation/tools.parse_siglum" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Parse witness siglum into witness object</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>siglum</strong> (<em>string</em>) â The witness siglum</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The witness object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Object</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="meta-search.html" class="btn btn-neutral float-right" title="Meta Search" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../plugins.html" class="btn btn-neutral float-left" title="Wordpress Plugins" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-19 CCeH - Licensed under the GNU GPL v3 or later

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>