

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Wordpress Theme &mdash; Capitularia 0.1.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/my_theme.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Wordpress Theme Widgets" href="widgets.html" />
    <link rel="prev" title="Wordpress Theme" href="../theme.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Capitularia
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../intro.html#platforms">Platforms</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../overviews.html">Overviews</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../overviews/html_generation.html">HTML Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/html_generation.html#xslt-transformations">XSLT Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/html_generation.html#user-delivery">User Delivery</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../overviews/collation_tool.html">Overview of the Collation Tool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/collation_tool.html#pre-processing-of-the-tei-files">Pre-Processing of the TEI files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/collation_tool.html#collation">Collation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/collation_tool.html#custom-version-of-collatex">Custom Version of CollateX</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../overviews/meta_search.html">Meta Search</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/meta_search.html#metadata-extraction">Metadata Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/meta_search.html#fulltext-extraction">Fulltext Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/meta_search.html#search">Search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../overviews/collections.html">Collections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../overviews/collections.html#algorithm">Algorithm</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../webprojekt.html">RRZK Web Projekt Capitularia</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../wordpress.html">Wordpress Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../database.html">Wordpress Database Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../database.html#metadata">Metadata</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../../wordpress-custom.html">Wordpress Customizations</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../theme.html">Wordpress Theme</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plugins.html">Wordpress Plugins</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../vm.html">Capitularia VM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../vm/app_server.html">Application Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/app_server.html#server">server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/app_server.html#module-data_server">data_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/app_server.html#module-collatex_server">collatex_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/app_server.html#module-geo_server">geo_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/app_server.html#module-tile_server">tile_server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../vm/database.html">Database Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/database.html#schema-capitularia">Schema <em>capitularia:</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/database.html#schema-gis">Schema <em>gis:</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../vm/database.html#module-db">db.py</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Capitularia</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../webprojekt.html">RRZK Web Projekt Capitularia</a> &raquo;</li>
        
          <li><a href="../../wordpress-custom.html">Wordpress Customizations</a> &raquo;</li>
        
          <li><a href="../theme.html">Wordpress Theme</a> &raquo;</li>
        
      <li>Wordpress Theme</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/webprojekt/wordpress/theme/main.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="wordpress-theme">
<span id="theme-main"></span><h1>Wordpress Theme<a class="headerlink" href="#wordpress-theme" title="Permalink to this headline">¶</a></h1>
<p>The Wordpress theme for Capitularia.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#themes-capitularia-404-php" id="id1">themes/Capitularia/404.php</a></p></li>
<li><p><a class="reference internal" href="#themes-capitularia-footer-php" id="id2">themes/Capitularia/footer.php</a></p></li>
<li><p><a class="reference internal" href="#themes-capitularia-front-page-php" id="id3">themes/Capitularia/front-page.php</a></p></li>
<li><p><a class="reference internal" href="#themes-capitularia-functions-include-php" id="id4">themes/Capitularia/functions-include.php</a></p></li>
<li><p><a class="reference internal" href="#themes-capitularia-functions-php" id="id5">themes/Capitularia/functions.php</a></p></li>
<li><p><a class="reference internal" href="#themes-capitularia-header-php" id="id6">themes/Capitularia/header.php</a></p></li>
<li><p><a class="reference internal" href="#themes-capitularia-index-php" id="id7">themes/Capitularia/index.php</a></p></li>
<li><p><a class="reference internal" href="#themes-capitularia-page-php" id="id8">themes/Capitularia/page.php</a></p></li>
<li><p><a class="reference internal" href="#themes-capitularia-page-blank-php" id="id9">themes/Capitularia/page_blank.php</a></p></li>
<li><p><a class="reference internal" href="#themes-capitularia-page-no-sidebar-php" id="id10">themes/Capitularia/page_no-sidebar.php</a></p></li>
<li><p><a class="reference internal" href="#themes-capitularia-phpinfo-php" id="id11">themes/Capitularia/phpinfo.php</a></p></li>
<li><p><a class="reference internal" href="#themes-capitularia-search-php" id="id12">themes/Capitularia/search.php</a></p></li>
<li><p><a class="reference internal" href="#themes-capitularia-shortcodes-php" id="id13">themes/Capitularia/shortcodes.php</a></p></li>
<li><p><a class="reference internal" href="#themes-capitularia-sidebars-php" id="id14">themes/Capitularia/sidebars.php</a></p></li>
<li><p><a class="reference internal" href="#themes-capitularia" id="id15">themes/capitularia</a></p></li>
</ul>
</div>
<span class="target" id="module-themes.Capitularia.404"></span><div class="section" id="themes-capitularia-404-php">
<h2><a class="toc-backref" href="#id1">themes/Capitularia/404.php</a><a class="headerlink" href="#themes-capitularia-404-php" title="Permalink to this headline">¶</a></h2>
<p>Template for 404 Page not found.</p>
<span class="target" id="module-themes.Capitularia.footer"></span></div>
<div class="section" id="themes-capitularia-footer-php">
<h2><a class="toc-backref" href="#id2">themes/Capitularia/footer.php</a><a class="headerlink" href="#themes-capitularia-footer-php" title="Permalink to this headline">¶</a></h2>
<p>The HTML footer on every page.</p>
<span class="target" id="module-themes.Capitularia.front-page"></span></div>
<div class="section" id="themes-capitularia-front-page-php">
<h2><a class="toc-backref" href="#id3">themes/Capitularia/front-page.php</a><a class="headerlink" href="#themes-capitularia-front-page-php" title="Permalink to this headline">¶</a></h2>
<p>Capitularia Theme front-page.php file</p>
<span class="target" id="module-themes.Capitularia.functions-include"></span></div>
<div class="section" id="themes-capitularia-functions-include-php">
<h2><a class="toc-backref" href="#id4">themes/Capitularia/functions-include.php</a><a class="headerlink" href="#themes-capitularia-functions-include-php" title="Permalink to this headline">¶</a></h2>
<p>Capitularia Theme functions-include.php file</p>
<p>This file only declares symbols (classes, functions, constants) in accordance
with PSR-2.</p>
<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\ns">
<code class="sig-name descname">ns</code><span class="sig-paren">(</span><em class="sig-param">$function_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\ns" title="Permalink to this definition">¶</a></dt>
<dd><p>Add current namespace</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$function_name</strong> (<em>string</em>) – The class or function name without namespace</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Name with namespace</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\get_slug_root">
<code class="sig-name descname">get_slug_root</code><span class="sig-paren">(</span><em class="sig-param">$page_id</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\get_slug_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the first path component of the slug.</p>
<p>If a page has a slug of: “top/sub/current” this function returns “top”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$page_id</strong> (<em>integer</em>) – Wordpress Page ID.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The slug root.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\get_parent_path">
<code class="sig-name descname">get_parent_path</code><span class="sig-paren">(</span><em class="sig-param">$path</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\get_parent_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the path of the parent page.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$path</strong> (<em>string</em>) – The path of the page.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The path of the parent page.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\echo_attribute">
<code class="sig-name descname">echo_attribute</code><span class="sig-paren">(</span><em class="sig-param">$name</em>, <em class="sig-param">$value</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\echo_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Echo a name=”value” pair.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$name</strong> (<em>string</em>) – The name of the attribute.</p></li>
<li><p><strong>$value</strong> (<em>string</em>) – The value of the attribute.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>void</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\echo_theme_image">
<code class="sig-name descname">echo_theme_image</code><span class="sig-paren">(</span><em class="sig-param">$img</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\echo_theme_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Echo a src=”img” pair.</p>
<p>The src will be pointing to the theme images directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$img</strong> (<em>string</em>) – The image filename.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>void</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\get_permalink_a">
<code class="sig-name descname">get_permalink_a</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\get_permalink_a" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an opening &lt;a&gt; containing a permalink to the current page.</p>
<p>It is the responsibilty of the caller to close the &lt;a&gt; tag.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An opening &lt;a&gt; tag.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\get_main_start">
<code class="sig-name descname">get_main_start</code><span class="sig-paren">(</span><em class="sig-param">$class</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\get_main_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Echo the tag to start the main section.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$class</strong> (<em>string</em>) – CSS classes to add to the tag.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>void</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\get_main_end">
<code class="sig-name descname">get_main_end</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\get_main_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Echo the tag to end the main section.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>void</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\get_sidebar_start">
<code class="sig-name descname">get_sidebar_start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\get_sidebar_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Echo the tag to start the sideabr section.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>void</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\get_sidebar_end">
<code class="sig-name descname">get_sidebar_end</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\get_sidebar_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Echo the tag to end the sidebar section.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>void</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\get_content_start">
<code class="sig-name descname">get_content_start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\get_content_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Echo the tag to start the content section.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>void</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\get_content_end">
<code class="sig-name descname">get_content_end</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\get_content_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Echo the tag to end the content section.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>void</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_enqueue_scripts">
<code class="sig-name descname">on_enqueue_scripts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_enqueue_scripts" title="Permalink to this definition">¶</a></dt>
<dd><p>Enqueue scripts and CSS</p>
<p>Add JS and CSS the wordpress way.</p>
<p>N.B. We use our own copy of jquery and bootstrap on the front.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>void</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_admin_enqueue_scripts">
<code class="sig-name descname">on_admin_enqueue_scripts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_admin_enqueue_scripts" title="Permalink to this definition">¶</a></dt>
<dd><p>Enqueue admin scripts and CSS</p>
<p>Add JS and CSS the wordpress way.</p>
<p>N.B. We use wordpress’ copy of jquery and jquery-ui on the admin pages, and
no bootstrap because it breaks too many things.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>void</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_wp_title">
<code class="sig-name descname">on_wp_title</code><span class="sig-paren">(</span><em class="sig-param">$title</em>, <em class="sig-param">$sep</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_wp_title" title="Permalink to this definition">¶</a></dt>
<dd><p>Customize &lt;head&gt; &lt;title&gt;</p>
<p>Customize the title displayed in the browser window caption and used if you
bookmark the page.</p>
<p>if root: “Capitularia | Edition der fränkischen Herrschererlasse”
else:    “[Name of page] | Capitularia”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$title</strong> (<em>string</em>) – Default title text for current view.</p></li>
<li><p><strong>$sep</strong> (<em>string</em>) – Optional separator.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The customized title.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_the_title">
<code class="sig-name descname">on_the_title</code><span class="sig-paren">(</span><em class="sig-param">$title</em>, <em class="sig-param">$post_ID</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_the_title" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark wiki post titles with “Wiki:”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$title</strong> (<em>string</em>) – The post title</p></li>
<li><p><strong>$post_ID</strong> (<em>integer</em>) – The post ID</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The edited post title</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_body_class">
<code class="sig-name descname">on_body_class</code><span class="sig-paren">(</span><em class="sig-param">$classes</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_body_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a &lt;body&gt; class.</p>
<p>Add a class to the HTML &lt;body&gt; tag depending on which section of the website
we are in.  Eg.: adds class=”cap-slug-mss” in the /mss/ section of the site.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$classes</strong> (<em>array</em>) – Old classes added by Wordpress or other plugins.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>New classes</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_init">
<code class="sig-name descname">on_init</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the theme.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>void</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_dropdown_pages_args">
<code class="sig-name descname">on_dropdown_pages_args</code><span class="sig-paren">(</span><em class="sig-param">$dropdown_args</em>, <em class="sig-param">$dummy_post</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_dropdown_pages_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Add private/draft/future/pending pages to page parent dropdown.</p>
<p>Only public pages are eligible for parenting in vanilla Wordpress.  We want
other pages also.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$dropdown_args</strong> (<em>array</em>) – The previous args.</p></li>
<li><p><strong>$dummy_post</strong> (<em>integer</em>) – (unused) The post ID.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The new args.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\translate_month_year">
<code class="sig-name descname">translate_month_year</code><span class="sig-paren">(</span><em class="sig-param">$month_year</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\translate_month_year" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate the archive widget month names</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$month_year</strong> (<em>string</em>) – Link containing untranslated MMMMMMM YYYY</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Link containing translated MMMMMMM YYYY</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\bk_to_permalink">
<code class="sig-name descname">bk_to_permalink</code><span class="sig-paren">(</span><em class="sig-param">$corresp</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\bk_to_permalink" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Capitular page url corresponding to a BK or Mordek No.</p>
<p>This function figures out which subdirectory the Capitular page is in,
eg. pre814/ or ldf/ or post840/ …</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$corresp</strong> (<em>string</em>) – eg. “BK.42a” or “Mordek_15”</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The url to the page, eg. “<a class="reference external" href="http://.../capit/pre814/bk-nr-042a">http://…/capit/pre814/bk-nr-042a</a>” or null</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_do_parse_request">
<code class="sig-name descname">on_do_parse_request</code><span class="sig-paren">(</span><em class="sig-param">$do_parse</em>, <em class="sig-param">$wp</em>, <em class="sig-param">$extra_query_vars</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_do_parse_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirector for Capitulary pages</p>
<p>Eg. redirect from /bk/BK.42a to /capit/&lt;subdir&gt;/bk-nr-042a/</p>
<p>We cannot just use mod_rewrite because we don’t know which subdirectory the
capitulary page is in.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$do_parse</strong> (<em>boolean</em>) – (unused) Whether or not to parse the request.</p></li>
<li><p><strong>$wp</strong> (<em>WP</em>) – (unused) The current WordPress environment instance.</p></li>
<li><p><strong>$extra_query_vars</strong> (<em>array|string</em>) – (unused) Extra passed query variables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The $do_parse parameter unchanged.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_login_redirect">
<code class="sig-name descname">on_login_redirect</code><span class="sig-paren">(</span><em class="sig-param">$redirect_to</em>, <em class="sig-param">$requested_redirect_to</em>, <em class="sig-param">$user</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_login_redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirect the user to the current page after login</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$redirect_to</strong> (<em>string</em>) – The redirect destination URL.</p></li>
<li><p><strong>$requested_redirect_to</strong> (<em>string</em>) – The requested redirect destination URL passed as a parameter.</p></li>
<li><p><strong>$user</strong> (<em>WP_User</em>) – <div class="line-block">
<div class="line">WP_Error $user WP_User object if login was successful, WP_Error object otherwise.</div>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The target URL of the redirection.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_registered_post_type">
<code class="sig-name descname">on_registered_post_type</code><span class="sig-paren">(</span><em class="sig-param">$post_type</em>, <em class="sig-param">$post_type_object</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_registered_post_type" title="Permalink to this definition">¶</a></dt>
<dd><p>HACK! make the “WP Help” wiki plugin’s post type searchable</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$post_type</strong> (<em>string</em>) – The post type</p></li>
<li><p><strong>$post_type_object</strong> (<em>WP_Post_Type</em>) – The post object</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>void</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_pre_get_posts">
<code class="sig-name descname">on_pre_get_posts</code><span class="sig-paren">(</span><em class="sig-param">$query</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_pre_get_posts" title="Permalink to this definition">¶</a></dt>
<dd><p>Search only wiki pages if search string contains ‘wiki:’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$query</strong> (<em>WP_Query</em>) – The query</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>void</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\cap_rest_user_info">
<code class="sig-name descname">cap_rest_user_info</code><span class="sig-paren">(</span><em class="sig-param">$request</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\cap_rest_user_info" title="Permalink to this definition">¶</a></dt>
<dd><p>REST endpoint to get user information from auth cookie</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$request</strong> (<em>WP_REST_Request</em>) – The request</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>void</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-themes.Capitularia.functions"></span></div>
<div class="section" id="themes-capitularia-functions-php">
<h2><a class="toc-backref" href="#id5">themes/Capitularia/functions.php</a><a class="headerlink" href="#themes-capitularia-functions-php" title="Permalink to this headline">¶</a></h2>
<p>Capitularia Theme functions.php file</p>
<p>Loads the text domain and adds all actions, filters and shortcodes.</p>
<p>This file executes only logic with side-effects in accordance with PSR-2.
The functions are defined in
<a class="reference internal" href="#module-themes.Capitularia.functions-include" title="themes.Capitularia.functions-include"><code class="xref py py-mod docutils literal notranslate"><span class="pre">function-includes.php</span></code></a>.</p>
<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="const">
<dt id="cceh\capitularia\theme\IMAGE_SERVER_URL">
<em class="property">constant </em><code class="sig-name descname">IMAGE_SERVER_URL</code><a class="headerlink" href="#cceh\capitularia\theme\IMAGE_SERVER_URL" title="Permalink to this definition">¶</a></dt>
<dd><p>‘<a class="reference external" href="http://images.cceh.uni-koeln.de/capitularia/">http://images.cceh.uni-koeln.de/capitularia/</a>’</p>
<p>The URL to the Capitularia image server.</p>
</dd></dl>

<span class="target" id="module-themes.Capitularia.header"></span></div>
<div class="section" id="themes-capitularia-header-php">
<h2><a class="toc-backref" href="#id6">themes/Capitularia/header.php</a><a class="headerlink" href="#themes-capitularia-header-php" title="Permalink to this headline">¶</a></h2>
<p>The HTML header.</p>
<p>This is the HTML header that is output on every page.</p>
<span class="target" id="module-themes.Capitularia.index"></span></div>
<div class="section" id="themes-capitularia-index-php">
<h2><a class="toc-backref" href="#id7">themes/Capitularia/index.php</a><a class="headerlink" href="#themes-capitularia-index-php" title="Permalink to this headline">¶</a></h2>
<p>Template for single posts or multiple excerpts.</p>
<span class="target" id="module-themes.Capitularia.page"></span></div>
<div class="section" id="themes-capitularia-page-php">
<h2><a class="toc-backref" href="#id8">themes/Capitularia/page.php</a><a class="headerlink" href="#themes-capitularia-page-php" title="Permalink to this headline">¶</a></h2>
<p>Capitularia Theme page.php file</p>
<span class="target" id="module-themes.Capitularia.page_blank"></span></div>
<div class="section" id="themes-capitularia-page-blank-php">
<h2><a class="toc-backref" href="#id9">themes/Capitularia/page_blank.php</a><a class="headerlink" href="#themes-capitularia-page-blank-php" title="Permalink to this headline">¶</a></h2>
<p>Template Name: Blank Page (only header and footer)</p>
<p>Capitularia Theme page_blank.php file</p>
<span class="target" id="module-themes.Capitularia.page_no-sidebar"></span></div>
<div class="section" id="themes-capitularia-page-no-sidebar-php">
<h2><a class="toc-backref" href="#id10">themes/Capitularia/page_no-sidebar.php</a><a class="headerlink" href="#themes-capitularia-page-no-sidebar-php" title="Permalink to this headline">¶</a></h2>
<p>Template Name: Page Without Sidebar</p>
<p>Capitularia Theme page_no-sidebar.php file</p>
<span class="target" id="module-themes.Capitularia.phpinfo"></span></div>
<div class="section" id="themes-capitularia-phpinfo-php">
<h2><a class="toc-backref" href="#id11">themes/Capitularia/phpinfo.php</a><a class="headerlink" href="#themes-capitularia-phpinfo-php" title="Permalink to this headline">¶</a></h2>
<p>Print server info (for debug use only).</p>
<span class="target" id="module-themes.Capitularia.search"></span></div>
<div class="section" id="themes-capitularia-search-php">
<h2><a class="toc-backref" href="#id12">themes/Capitularia/search.php</a><a class="headerlink" href="#themes-capitularia-search-php" title="Permalink to this headline">¶</a></h2>
<p>The template for displaying Search Results pages.</p>
<span class="target" id="module-themes.Capitularia.shortcodes"></span></div>
<div class="section" id="themes-capitularia-shortcodes-php">
<h2><a class="toc-backref" href="#id13">themes/Capitularia/shortcodes.php</a><a class="headerlink" href="#themes-capitularia-shortcodes-php" title="Permalink to this headline">¶</a></h2>
<p>Capitularia Theme shortcodes.php file</p>
<p>Define actions for various shortcodes.</p>
<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_shortcode_logged_in">
<code class="sig-name descname">on_shortcode_logged_in</code><span class="sig-paren">(</span><em class="sig-param">$dummy_atts</em>, <em class="sig-param">$content</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_shortcode_logged_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the logged_in shortcode.</p>
<p>This shortcode outputs its content only to logged-in users.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[logged_in]You are logged in![/logged_in]
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$dummy_atts</strong> (<em>array</em>) – (unused) The shortocde attributes.</p></li>
<li><p><strong>$content</strong> (<em>string</em>) – The shortcode content.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The shortcode content if logged in else the empty string.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_shortcode_logged_out">
<code class="sig-name descname">on_shortcode_logged_out</code><span class="sig-paren">(</span><em class="sig-param">$dummy_atts</em>, <em class="sig-param">$content</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_shortcode_logged_out" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the logged_out shortcode.</p>
<p>This shortcode outputs its content only to logged-out users.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[logged_out]Please log in![/logged_out]
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$dummy_atts</strong> (<em>array</em>) – (unused) The shortocde attributes.</p></li>
<li><p><strong>$content</strong> (<em>string</em>) – The shortcode content.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The shortcode content if logged out else the empty string.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_shortcode_cap_image_server">
<code class="sig-name descname">on_shortcode_cap_image_server</code><span class="sig-paren">(</span><em class="sig-param">$atts</em>, <em class="sig-param">$content</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_shortcode_cap_image_server" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the cap_image_server shortcode.</p>
<p>This shortcode wraps the content in a link to the image server if the user is
logged in.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$atts</strong> (<em>array</em>) – The shortocde attributes.</p></li>
<li><p><strong>$content</strong> (<em>string</em>) – The shortcode content.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The shortcode content wrapped in a link.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\get_page_status_in_cache">
<code class="sig-name descname">get_page_status_in_cache</code><span class="sig-paren">(</span><em class="sig-param">$path</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\get_page_status_in_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure the status of a page is in the cache.</p>
<p>Some pages with long lists must check the status of hundreds of other pages.
Wordpress turns each status check into one SQL query.  This function reads
the statuses of all children of a parent page in one SQL query, potentially
saving hundreds of queries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$path</strong> (<em>string</em>) – The path of the page without leading or trailing slashes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of path =&gt; status which is guaranteed to contain the page’s status if the page exists.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\if_status">
<code class="sig-name descname">if_status</code><span class="sig-paren">(</span><em class="sig-param">$atts</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\if_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Find out the status of a page.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$atts</strong> (<em>array</em>) – The shortocde attributes. status = status, path = path of page</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>if page has that status.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>True</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\get_transcribed_in_cache">
<code class="sig-name descname">get_transcribed_in_cache</code><span class="sig-paren">(</span><em class="sig-param">$cap_id</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\get_transcribed_in_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Cache a list of all manuscripts with a transcription of capitular cap_id</p>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_shortcode_if_status">
<code class="sig-name descname">on_shortcode_if_status</code><span class="sig-paren">(</span><em class="sig-param">$atts</em>, <em class="sig-param">$content</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_shortcode_if_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the if_status shortcode.</p>
<p>This shortcode outputs its content if the ms. has that status.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[if_status path=&quot;/mss/wien&quot; status=&quot;publish&quot;]
  &lt;p&gt;Wien is published!&lt;/p&gt;
[/if_status]
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$atts</strong> (<em>array</em>) – The shortocde attributes. status = status, path = path of page</p></li>
<li><p><strong>$content</strong> (<em>string</em>) – The shortcode content.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The shortcode content if the ms. has that status else the empty string.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_shortcode_if_not_status">
<code class="sig-name descname">on_shortcode_if_not_status</code><span class="sig-paren">(</span><em class="sig-param">$atts</em>, <em class="sig-param">$content</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_shortcode_if_not_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the if_not_status shortcode.</p>
<p>This shortcode outputs its content if the ms. doesn’t have that status.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[if_not_status path=&quot;/mss/wien&quot; status=&quot;publish&quot;]
  &lt;p&gt;Wien is not published!&lt;/p&gt;
[/if_not_status]
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$atts</strong> (<em>array</em>) – The shortocde attributes. status = status, path = path of page</p></li>
<li><p><strong>$content</strong> (<em>string</em>) – The shortcode content.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The shortcode content if the ms. doesn’t have that status else the empty string.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\if_visible">
<code class="sig-name descname">if_visible</code><span class="sig-paren">(</span><em class="sig-param">$path</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\if_visible" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the current user can see a page.</p>
<p>Check if the user’s permissions are sufficient to see a particular page.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$path</strong> (<em>string</em>) – The path of the page.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>if the current user can see the page.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>True</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_shortcode_if_visible">
<code class="sig-name descname">on_shortcode_if_visible</code><span class="sig-paren">(</span><em class="sig-param">$atts</em>, <em class="sig-param">$content</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_shortcode_if_visible" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the if_visible shortcode.</p>
<p>This shortcode outputs its content if the current user can see <em>any</em> one of
the pages in the path attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">if_visible</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/mss/secret.html&quot;</span><span class="p">]</span>
  <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">The</span> <span class="n">secret</span> <span class="n">manuscript</span><span class="o">.&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">[</span><span class="o">/</span><span class="n">if_visible</span><span class="p">]</span>
</pre></div>
</div>
<p>Use this with multiple pages to find out when to print headers, etc.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">if_any_visible</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/mss/leo1.html /mss/leo2.html&quot;</span><span class="p">]</span>
  <span class="o">&lt;</span><span class="n">h2</span><span class="o">&gt;</span><span class="n">Hic</span> <span class="n">sunt</span> <span class="n">leones</span><span class="o">&lt;/</span><span class="n">h2</span><span class="o">&gt;</span>
<span class="p">[</span><span class="o">/</span><span class="n">if_any_visible</span><span class="p">]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$atts</strong> (<em>array</em>) – The shortocde attributes. path = space separated paths of pages</p></li>
<li><p><strong>$content</strong> (<em>string</em>) – The shortcode content.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The shortcode content if the user can see the page in path or else the empty string.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_shortcode_if_not_visible">
<code class="sig-name descname">on_shortcode_if_not_visible</code><span class="sig-paren">(</span><em class="sig-param">$atts</em>, <em class="sig-param">$content</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_shortcode_if_not_visible" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the if_not_visible shortcode.</p>
<p>This shortcode outputs its content if the current user cannot see <em>any</em> one
of the pages in the path attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[if_not_visible path=&quot;/premium.html&quot;]
  &lt;p&gt;Pay to see our boring premium content!&lt;/p&gt;
[/if_not_visible]
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$atts</strong> (<em>array</em>) – The shortocde attributes. path = space separated paths of pages</p></li>
<li><p><strong>$content</strong> (<em>string</em>) – The shortcode content.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The shortcode content if the current user cannot see the page in path else the empty string.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_shortcode_if_transcribed">
<code class="sig-name descname">on_shortcode_if_transcribed</code><span class="sig-paren">(</span><em class="sig-param">$atts</em>, <em class="sig-param">$content</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_shortcode_if_transcribed" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the if_transcribed shortcode.</p>
<p>This shortcode outputs its content if the capitular was already transcribed
in the manuscript with the xml:id.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">if_transcribed</span> <span class="n">ms_id</span><span class="o">=</span><span class="s2">&quot;barcelona-aca-ripoll&quot;</span> <span class="n">cap_id</span><span class="o">=</span><span class="s2">&quot;BK.42&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="o">&lt;</span><span class="n">a</span><span class="o">&gt;</span><span class="n">here</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span><span class="p">[</span><span class="o">/</span><span class="n">if_transcribed</span><span class="p">]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$atts</strong> (<em>array</em>) – The shortocde attributes.</p></li>
<li><p><strong>$content</strong> (<em>string</em>) – The shortcode content.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The shortcode content if the corresp is transcribed, else the empty string.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_shortcode_current_date">
<code class="sig-name descname">on_shortcode_current_date</code><span class="sig-paren">(</span><em class="sig-param">$atts</em>, <em class="sig-param">$dummy_content</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_shortcode_current_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the current_date shortcode.</p>
<p>This shortcode outputs the current date using the preferred date
representation for the current locale without the time.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">Accessed</span> <span class="n">on</span><span class="p">:</span> <span class="p">[</span><span class="n">current_date</span><span class="p">]</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>yields:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">Accessed</span> <span class="n">on</span><span class="p">:</span> <span class="n">Jan</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1970</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$atts</strong> (<em>array</em>) – The shortocde attributes.</p></li>
<li><p><strong>$dummy_content</strong> (<em>string</em>) – The shortcode content. (empty)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The current date.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_shortcode_permalink">
<code class="sig-name descname">on_shortcode_permalink</code><span class="sig-paren">(</span><em class="sig-param">$dummy_atts</em>, <em class="sig-param">$dummy_content</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_shortcode_permalink" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the permalink shortcode.</p>
<p>This shortcode outputs the permalink for the current page.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">URL</span><span class="p">:</span> <span class="p">[</span><span class="n">permalink</span><span class="p">]</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>yields:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">URL</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">example</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">post</span><span class="o">/</span><span class="mi">123</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$dummy_atts</strong> (<em>array</em>) – (unused) The shortocde attributes.</p></li>
<li><p><strong>$dummy_content</strong> (<em>string</em>) – (unused) The shortcode content.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The page permalink.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="namespace-cceh\capitularia\theme"></span><dl class="function">
<dt id="cceh\capitularia\theme\on_shortcode_cite_as">
<code class="sig-name descname">on_shortcode_cite_as</code><span class="sig-paren">(</span><em class="sig-param">$atts</em>, <em class="sig-param">$dummy_content</em><span class="sig-paren">)</span><a class="headerlink" href="#cceh\capitularia\theme\on_shortcode_cite_as" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the cite_as shortcode.</p>
<p>This shortcode outputs a short description of how to cite the post.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">[</span><span class="n">cite_as</span><span class="p">]</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>$atts</strong> (<em>array</em>) – The shortocde attributes.</p></li>
<li><p><strong>$dummy_content</strong> (<em>string</em>) – The shortcode content. (empty)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A description of how to cite.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-themes.Capitularia.sidebars"></span></div>
<div class="section" id="themes-capitularia-sidebars-php">
<h2><a class="toc-backref" href="#id14">themes/Capitularia/sidebars.php</a><a class="headerlink" href="#themes-capitularia-sidebars-php" title="Permalink to this headline">¶</a></h2>
<p>Capitularia Theme sidebars.php file</p>
<p>Register the sidebars for various page types.</p>
</div>
<span class="target" id="module-themes/capitularia"></span><div class="section" id="themes-capitularia">
<h2><a class="toc-backref" href="#id15">themes/capitularia</a><a class="headerlink" href="#themes-capitularia" title="Permalink to this headline">¶</a></h2>
<p>File: themes/Capitularia/src/js/custom.js</p>
<p>This file contains the Javascript for the Capitularia theme.</p>
<dl class="function">
<dt id="themes/capitularia.initBackToTop">
<code class="sig-prename descclassname">themes/capitularia.</code><code class="sig-name descname">initBackToTop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#themes/capitularia.initBackToTop" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the back to top link: on click do a smooth scroll to the top of the page.</p>
</dd></dl>

<dl class="function">
<dt id="themes/capitularia.initSmoothScrollLinks">
<code class="sig-prename descclassname">themes/capitularia.</code><code class="sig-name descname">initSmoothScrollLinks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#themes/capitularia.initSmoothScrollLinks" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize all links on the page to do a smooth scroll to their respective targets.</p>
</dd></dl>

<dl class="function">
<dt id="themes/capitularia.initResetForm">
<code class="sig-prename descclassname">themes/capitularia.</code><code class="sig-name descname">initResetForm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#themes/capitularia.initResetForm" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize reset buttons to reset input and select controls on the parent form.</p>
</dd></dl>

<dl class="function">
<dt id="themes/capitularia.initFootnoteTooltips">
<code class="sig-prename descclassname">themes/capitularia.</code><code class="sig-name descname">initFootnoteTooltips</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#themes/capitularia.initFootnoteTooltips" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the footnote refs, ie. the ‘*’, to open a popup on mouse hover. The popup contains the footnote text.</p>
</dd></dl>

<dl class="function">
<dt id="themes/capitularia.initLegend">
<code class="sig-prename descclassname">themes/capitularia.</code><code class="sig-name descname">initLegend</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#themes/capitularia.initLegend" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the legend slide-out. Make the legend slide out (and back in) if the user clicks on the respective tab.</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="widgets.html" class="btn btn-neutral float-right" title="Wordpress Theme Widgets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../theme.html" class="btn btn-neutral float-left" title="Wordpress Theme" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-19 CCeH - Licensed under the GNU GPL v3 or later

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>