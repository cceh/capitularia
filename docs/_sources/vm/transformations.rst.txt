.. _transformations:

XSLT Transformations
--------------------

.. contents::
   :local:

The transformations used to produce HTML from TEI.

The XSLT stylesheets were first written in XSLT 1 for historical reasons.  We
are currently (Feb. 2020) rewriting them in XSLT 3.  XSLT 3 transformation is
done with Saxon.  XSLT 1 transformation is done with xsltproc.

See also the overview: :ref:`html-generation`.

These graphs were generated by the tool :command:`python/xslt_dep.py`.


Graph of All Transformations
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. pic:: xslt_dep_dot

   update INSERT DATA { <http://capitularia.uni-koeln.de/$(CACHE_DIR)/extracted/%/>     a cap:txt . }
   update INSERT DATA { <http://capitularia.uni-koeln.de/$(CACHE_DIR)/lists/corpus.xml> cap:constraint "false" }
   io
   dot


Graph of Stylesheet Dependencies
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. pic:: xslt_dep_dot

   dep
   dot
